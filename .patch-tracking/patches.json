{
  "patches": [
    {
      "patchId": "UJO*3.0*28",
      "package": "UJO*3.0*28",
      "packageCode": "UJO",
      "version": "3.0",
      "patchNumber": 28,
      "title": "Add New Prompt \"RESIDENT PATHOLOGIST\" For Surgical Pathology Accession Areas",
      "createdDate": "2025-06-17T15:05:03",
      "author": "Osama Swies",
      "description": [],
      "gitlabIssues": [],
      "routines": [
        "LRAPD1",
        "LRSPRPTA",
        "LRAPCUM",
        "LRAPBR1"
      ],
      "raw": "KIDS Distribution saved on Jun 17, 2025@15:05:03\nAdd New Prompt \"RESIDENT PATHOLOGIST\" For Surgical Pathology Accession Areas\n**KIDS**:UJO*3.0*28^\n\n**INSTALL NAME**\nUJO*3.0*28\n\"BLD\",9913,0)\nUJO*3.0*28^JORDAN SPECIFIC MODIFICATIONS^0^3250617^y\n\"BLD\",9913,1,0)\n^^28^28^3250617^^^\n\"BLD\",9913,1,1,0)\nThis Patch Was Created On 17/06/2025 By Osama Swies\n\"BLD\",9913,1,2,0)\n            \n\"BLD\",9913,1,3,0)\nhttps://gitlab.ehs.com.jo/software_projects/laboratory/lab-package/-/issue\n\"BLD\",9913,1,4,0)\ns/15\n\"BLD\",9913,1,5,0)\n \n\"BLD\",9913,1,6,0)\nhttps://gitlab.ehs.com.jo/software_projects/laboratory/lab-package/-/issue\n\"BLD\",9913,1,7,0)\ns/41\n\"BLD\",9913,1,8,0)\n \n\"BLD\",9913,1,9,0)\nhttps://gitlab.ehs.com.jo/software_projects/laboratory/lab-package/-/issue\n\"BLD\",9913,1,10,0)\ns/42\n\"BLD\",9913,1,11,0)\n \n\"BLD\",9913,1,12,0)\nThe Patch Includes Updates To Four Routines: LRAPD1, LRSPRPTA, LRAPCUM \n\"BLD\",9913,1,13,0)\nAnd LRAPBR1.\n\"BLD\",9913,1,14,0)\n \n\"BLD\",9913,1,15,0)\nThe Main Functionality Of Updating The Routine \"LRAPD1\" is To Add a New \n\"BLD\",9913,1,16,0)\n\"RESIDENT PATHOLOGIST\" Prompt For Surgical Pathology Accession Areas.\n\"BLD\",9913,1,17,0)\nOn [LRAPDGM] And [LRAPDGS] Options.\n\"BLD\",9913,1,18,0)\n \n\"BLD\",9913,1,19,0)\nThe Main Functionality Of Updating The Routine \"LRSPRPTA\" aligns \n\"BLD\",9913,1,20,0)\n\"RESIDENT PATHOLOGIST\" To The Left On [LRAPFICH], [LRAPQAM], [LRAPQAMR], \n\"BLD\",9913,1,21,0)\n[LRAPQAR], [LRAP PRINT SINGLE] Options.\n\"BLD\",9913,1,22,0)\n \n\"BLD\",9913,1,23,0)\nThe Main Functionality Of Updating The Routine \"LRAPCUM\" Is To Convert \n\"BLD\",9913,1,24,0)\nthe label \"Resident\" To \"Pathology Resident\" within the [LRAPSPCUM] And \n\"BLD\",9913,1,25,0)\n[LRAPPA] Options.\n\"BLD\",9913,1,26,0)\n \n\"BLD\",9913,1,27,0)\nThe Main Functionality Of Updating The Routine \"LRAPBR1\" aligns \"RESIDENT \n\"BLD\",9913,1,28,0)\nPATHOLOGIST\" To The Left On [LRAPR], [LRAPSPSGL] And [LRAPMOD] Options.\n\"BLD\",9913,4,0)\n^9.64PA^^\n\"BLD\",9913,6.3)\n6\n\"BLD\",9913,\"ABPKG\")\nn\n\"BLD\",9913,\"KRN\",0)\n^9.67PA^8993^21\n\"BLD\",9913,\"KRN\",.4,0)\n.4\n\"BLD\",9913,\"KRN\",.401,0)\n.401\n\"BLD\",9913,\"KRN\",.402,0)\n.402\n\"BLD\",9913,\"KRN\",.403,0)\n.403\n\"BLD\",9913,\"KRN\",.5,0)\n.5\n\"BLD\",9913,\"KRN\",.84,0)\n.84\n\"BLD\",9913,\"KRN\",3.6,0)\n3.6\n\"BLD\",9913,\"KRN\",3.8,0)\n3.8\n\"BLD\",9913,\"KRN\",9.2,0)\n9.2\n\"BLD\",9913,\"KRN\",9.8,0)\n9.8\n\"BLD\",9913,\"KRN\",9.8,\"NM\",0)\n^9.68A^5^4\n\"BLD\",9913,\"KRN\",9.8,\"NM\",2,0)\nLRAPD1^^0^B29057051\n\"BLD\",9913,\"KRN\",9.8,\"NM\",3,0)\nLRSPRPTA^^0^B18457484\n\"BLD\",9913,\"KRN\",9.8,\"NM\",4,0)\nLRAPCUM^^0^B26379480\n\"BLD\",9913,\"KRN\",9.8,\"NM\",5,0)\nLRAPBR1^^0^B137729318\n\"BLD\",9913,\"KRN\",9.8,\"NM\",\"B\",\"LRAPBR1\",5)\n\n\"BLD\",9913,\"KRN\",9.8,\"NM\",\"B\",\"LRAPCUM\",4)\n\n\"BLD\",9913,\"KRN\",9.8,\"NM\",\"B\",\"LRAPD1\",2)\n\n\"BLD\",9913,\"KRN\",9.8,\"NM\",\"B\",\"LRSPRPTA\",3)\n\n\"BLD\",9913,\"KRN\",19,0)\n19\n\"BLD\",9913,\"KRN\",19.1,0)\n19.1\n\"BLD\",9913,\"KRN\",101,0)\n101\n\"BLD\",9913,\"KRN\",409.61,0)\n409.61\n\"BLD\",9913,\"KRN\",771,0)\n771\n\"BLD\",9913,\"KRN\",779.2,0)\n779.2\n\"BLD\",9913,\"KRN\",870,0)\n870\n\"BLD\",9913,\"KRN\",8989.51,0)\n8989.51\n\"BLD\",9913,\"KRN\",8989.52,0)\n8989.52\n\"BLD\",9913,\"KRN\",8993,0)\n8993\n\"BLD\",9913,\"KRN\",8994,0)\n8994\n\"BLD\",9913,\"KRN\",\"B\",.4,.4)\n\n\"BLD\",9913,\"KRN\",\"B\",.401,.401)\n\n\"BLD\",9913,\"KRN\",\"B\",.402,.402)\n\n\"BLD\",9913,\"KRN\",\"B\",.403,.403)\n\n\"BLD\",9913,\"KRN\",\"B\",.5,.5)\n\n\"BLD\",9913,\"KRN\",\"B\",.84,.84)\n\n\"BLD\",9913,\"KRN\",\"B\",3.6,3.6)\n\n\"BLD\",9913,\"KRN\",\"B\",3.8,3.8)\n\n\"BLD\",9913,\"KRN\",\"B\",9.2,9.2)\n\n\"BLD\",9913,\"KRN\",\"B\",9.8,9.8)\n\n\"BLD\",9913,\"KRN\",\"B\",19,19)\n\n\"BLD\",9913,\"KRN\",\"B\",19.1,19.1)\n\n\"BLD\",9913,\"KRN\",\"B\",101,101)\n\n\"BLD\",9913,\"KRN\",\"B\",409.61,409.61)\n\n\"BLD\",9913,\"KRN\",\"B\",771,771)\n\n\"BLD\",9913,\"KRN\",\"B\",779.2,779.2)\n\n\"BLD\",9913,\"KRN\",\"B\",870,870)\n\n\"BLD\",9913,\"KRN\",\"B\",8989.51,8989.51)\n\n\"BLD\",9913,\"KRN\",\"B\",8989.52,8989.52)\n\n\"BLD\",9913,\"KRN\",\"B\",8993,8993)\n\n\"BLD\",9913,\"KRN\",\"B\",8994,8994)\n\n\"BLD\",9913,\"QUES\",0)\n^9.62^^\n\"BLD\",9913,\"REQB\",0)\n^9.611^^\n\"MBREQ\")\n0\n\"PKG\",209,-1)\n1^1\n\"PKG\",209,0)\nJORDAN SPECIFIC MODIFICATIONS^UJO\n\"PKG\",209,22,0)\n^9.49I^1^1\n\"PKG\",209,22,1,0)\n3.0\n\"PKG\",209,22,1,\"PAH\",1,0)\n28^3250617^8\n\"PKG\",209,22,1,\"PAH\",1,1,0)\n^^28^28^3250617\n\"PKG\",209,22,1,\"PAH\",1,1,1,0)\nThis Patch Was Created On 17/06/2025 By Osama Swies\n\"PKG\",209,22,1,\"PAH\",1,1,2,0)\n            \n\"PKG\",209,22,1,\"PAH\",1,1,3,0)\nhttps://gitlab.ehs.com.jo/software_projects/laboratory/lab-package/-/issue\n\"PKG\",209,22,1,\"PAH\",1,1,4,0)\ns/15\n\"PKG\",209,22,1,\"PAH\",1,1,5,0)\n \n\"PKG\",209,22,1,\"PAH\",1,1,6,0)\nhttps://gitlab.ehs.com.jo/software_projects/laboratory/lab-package/-/issue\n\"PKG\",209,22,1,\"PAH\",1,1,7,0)\ns/41\n\"PKG\",209,22,1,\"PAH\",1,1,8,0)\n \n\"PKG\",209,22,1,\"PAH\",1,1,9,0)\nhttps://gitlab.ehs.com.jo/software_projects/laboratory/lab-package/-/issue\n\"PKG\",209,22,1,\"PAH\",1,1,10,0)\ns/42\n\"PKG\",209,22,1,\"PAH\",1,1,11,0)\n \n\"PKG\",209,22,1,\"PAH\",1,1,12,0)\nThe Patch Includes Updates To Four Routines: LRAPD1, LRSPRPTA, LRAPCUM \n\"PKG\",209,22,1,\"PAH\",1,1,13,0)\nAnd LRAPBR1.\n\"PKG\",209,22,1,\"PAH\",1,1,14,0)\n \n\"PKG\",209,22,1,\"PAH\",1,1,15,0)\nThe Main Functionality Of Updating The Routine \"LRAPD1\" is To Add a New \n\"PKG\",209,22,1,\"PAH\",1,1,16,0)\n\"RESIDENT PATHOLOGIST\" Prompt For Surgical Pathology Accession Areas.\n\"PKG\",209,22,1,\"PAH\",1,1,17,0)\nOn [LRAPDGM] And [LRAPDGS] Options.\n\"PKG\",209,22,1,\"PAH\",1,1,18,0)\n \n\"PKG\",209,22,1,\"PAH\",1,1,19,0)\nThe Main Functionality Of Updating The Routine \"LRSPRPTA\" aligns \n\"PKG\",209,22,1,\"PAH\",1,1,20,0)\n\"RESIDENT PATHOLOGIST\" To The Left On [LRAPFICH], [LRAPQAM], [LRAPQAMR], \n\"PKG\",209,22,1,\"PAH\",1,1,21,0)\n[LRAPQAR], [LRAP PRINT SINGLE] Options.\n\"PKG\",209,22,1,\"PAH\",1,1,22,0)\n \n\"PKG\",209,22,1,\"PAH\",1,1,23,0)\nThe Main Functionality Of Updating The Routine \"LRAPCUM\" Is To Convert \n\"PKG\",209,22,1,\"PAH\",1,1,24,0)\nthe label \"Resident\" To \"Pathology Resident\" within the [LRAPSPCUM] And \n\"PKG\",209,22,1,\"PAH\",1,1,25,0)\n[LRAPPA] Options.\n\"PKG\",209,22,1,\"PAH\",1,1,26,0)\n \n\"PKG\",209,22,1,\"PAH\",1,1,27,0)\nThe Main Functionality Of Updating The Routine \"LRAPBR1\" aligns \"RESIDENT \n\"PKG\",209,22,1,\"PAH\",1,1,28,0)\nPATHOLOGIST\" To The Left On [LRAPR], [LRAPSPSGL] And [LRAPMOD] Options.\n\"QUES\",\"XPF1\",0)\nY\n\"QUES\",\"XPF1\",\"??\")\n^D REP^XPDH\n\"QUES\",\"XPF1\",\"A\")\nShall I write over your |FLAG| File\n\"QUES\",\"XPF1\",\"B\")\nYES\n\"QUES\",\"XPF1\",\"M\")\nD XPF1^XPDIQ\n\"QUES\",\"XPF2\",0)\nY\n\"QUES\",\"XPF2\",\"??\")\n^D DTA^XPDH\n\"QUES\",\"XPF2\",\"A\")\nWant my data |FLAG| yours\n\"QUES\",\"XPF2\",\"B\")\nYES\n\"QUES\",\"XPF2\",\"M\")\nD XPF2^XPDIQ\n\"QUES\",\"XPI1\",0)\nYO\n\"QUES\",\"XPI1\",\"??\")\n^D INHIBIT^XPDH\n\"QUES\",\"XPI1\",\"A\")\nWant KIDS to INHIBIT LOGONs during the install\n\"QUES\",\"XPI1\",\"B\")\nNO\n\"QUES\",\"XPI1\",\"M\")\nD XPI1^XPDIQ\n\"QUES\",\"XPM1\",0)\nPO^VA(200,:EM\n\"QUES\",\"XPM1\",\"??\")\n^D MG^XPDH\n\"QUES\",\"XPM1\",\"A\")\nEnter the Coordinator for Mail Group '|FLAG|'\n\"QUES\",\"XPM1\",\"B\")\n\n\"QUES\",\"XPM1\",\"M\")\nD XPM1^XPDIQ\n\"QUES\",\"XPO1\",0)\nY\n\"QUES\",\"XPO1\",\"??\")\n^D MENU^XPDH\n\"QUES\",\"XPO1\",\"A\")\nWant KIDS to Rebuild Menu Trees Upon Completion of Install\n\"QUES\",\"XPO1\",\"B\")\nNO\n\"QUES\",\"XPO1\",\"M\")\nD XPO1^XPDIQ\n\"QUES\",\"XPZ1\",0)\nY\n\"QUES\",\"XPZ1\",\"??\")\n^D OPT^XPDH\n\"QUES\",\"XPZ1\",\"A\")\nWant to DISABLE Scheduled Options, Menu Options, and Protocols\n\"QUES\",\"XPZ1\",\"B\")\nNO\n\"QUES\",\"XPZ1\",\"M\")\nD XPZ1^XPDIQ\n\"QUES\",\"XPZ2\",0)\nY\n\"QUES\",\"XPZ2\",\"??\")\n^D RTN^XPDH\n\"QUES\",\"XPZ2\",\"A\")\nWant to MOVE routines to other CPUs\n\"QUES\",\"XPZ2\",\"B\")\nNO\n\"QUES\",\"XPZ2\",\"M\")\nD XPZ2^XPDIQ\n\"RTN\")\n4\n\"RTN\",\"LRAPBR1\")\n0^5^B137729318\n\"RTN\",\"LRAPBR1\",1,0)\nLRAPBR1 ;DALOI/STAFF - AP Browser Print Cont. ;03/21/13  15:28\n\"RTN\",\"LRAPBR1\",2,0)\n ;;5.2;LAB SERVICE;**259,317,363,350,427**;Sep 27, 1994;Build 6\n\"RTN\",\"LRAPBR1\",3,0)\n ;\n\"RTN\",\"LRAPBR1\",4,0)\n ;\n\"RTN\",\"LRAPBR1\",5,0)\nENTER ; from LRAPBR\n\"RTN\",\"LRAPBR1\",6,0)\n N LRCNT,LRTMP,LRA1,LRADESC,LRLENG1,LRLENG2,LRFILE,LRAPMD\n\"RTN\",\"LRAPBR1\",7,0)\n N LRFLD,LRV,LRV1,LRV2,LRX,LRB1,LRTEXT,LRSPCE,LRIENS,LRAPMR\n\"RTN\",\"LRAPBR1\",8,0)\n Q:'$D(^LR(LRDFN,LRSS,LRI,0))\n\"RTN\",\"LRAPBR1\",9,0)\n S:'LRTIU GROOT=\"^TMP(\"\"LRAPBR\"\",$J,\"\n\"RTN\",\"LRAPBR1\",10,0)\n S:LRTIU GROOT=\"^TMP(\"\"TIUP\"\",$J,\"\n\"RTN\",\"LRAPBR1\",11,0)\n ;\n\"RTN\",\"LRAPBR1\",12,0)\n D GETPCP^LRAPUTL(.LRPRAC,LRDFN,LRSS,LRI)\n\"RTN\",\"LRAPBR1\",13,0)\n ;\n\"RTN\",\"LRAPBR1\",14,0)\n ; If reporting lab available then use instead of VistA site name.\n\"RTN\",\"LRAPBR1\",15,0)\n S LRX=+$G(^LR(LRDFN,LRSS,LRI,\"RF\"))\n\"RTN\",\"LRAPBR1\",16,0)\n I LRX S LRQ(1)=$$NAME^XUAF4(LRX)\n\"RTN\",\"LRAPBR1\",17,0)\n ;\n\"RTN\",\"LRAPBR1\",18,0)\n S LRQ=0 D ^LRUA,HEADER\n\"RTN\",\"LRAPBR1\",19,0)\n S LR(\"F\")=1\n\"RTN\",\"LRAPBR1\",20,0)\n D DASH\n\"RTN\",\"LRAPBR1\",21,0)\n D:LRTIU GLENTRY(\"$TEXT\",,1)\n\"RTN\",\"LRAPBR1\",22,0)\n D GLENTRY(\"Submitted by: \"_LRW(5),\"\",1)\n\"RTN\",\"LRAPBR1\",23,0)\n D GLENTRY(\"Date obtained: \"_LRTK,44)\n\"RTN\",\"LRAPBR1\",24,0)\n D:LRA DASH\n\"RTN\",\"LRAPBR1\",25,0)\n ;\n\"RTN\",\"LRAPBR1\",26,0)\n S LRIENS=LRI_\",\"_LRDFN_\",\"\n\"RTN\",\"LRAPBR1\",27,0)\n ;\n\"RTN\",\"LRAPBR1\",28,0)\n ;\n\"RTN\",\"LRAPBR1\",29,0)\nMAIN ;\n\"RTN\",\"LRAPBR1\",30,0)\n D SPEC\n\"RTN\",\"LRAPBR1\",31,0)\n D MODCHK\n\"RTN\",\"LRAPBR1\",32,0)\n D SUPBNNR\n\"RTN\",\"LRAPBR1\",33,0)\n ; DALOI/LMT - LR,427 - Removed comments from report to restore pre-LR,350 behavior\n\"RTN\",\"LRAPBR1\",34,0)\n ;D COMMENT\n\"RTN\",\"LRAPBR1\",35,0)\n D DIAG\n\"RTN\",\"LRAPBR1\",36,0)\n D DOC\n\"RTN\",\"LRAPBR1\",37,0)\n D WPFLD\n\"RTN\",\"LRAPBR1\",38,0)\n D SUPRPT\n\"RTN\",\"LRAPBR1\",39,0)\n D SSJR\n\"RTN\",\"LRAPBR1\",40,0)\n Q\n\"RTN\",\"LRAPBR1\",41,0)\n ;\n\"RTN\",\"LRAPBR1\",42,0)\n ;\n\"RTN\",\"LRAPBR1\",43,0)\nSPEC ; List specimens\n\"RTN\",\"LRAPBR1\",44,0)\n ;\n\"RTN\",\"LRAPBR1\",45,0)\n ;ZEXCEPT: LRDFN,LRI,LRIENS,LRSF,LRSS\n\"RTN\",\"LRAPBR1\",46,0)\n ;\n\"RTN\",\"LRAPBR1\",47,0)\n N LRB,LRFILE,LRX\n\"RTN\",\"LRAPBR1\",48,0)\n ;\n\"RTN\",\"LRAPBR1\",49,0)\n D GLENTRY(\"Specimen (Received \"_LRTK(1)_\"):\",\"\",1)\n\"RTN\",\"LRAPBR1\",50,0)\n ;\n\"RTN\",\"LRAPBR1\",51,0)\n S LRFILE=+$$GET1^DID(LRSF,.012,\"\",\"SPECIFIER\")\n\"RTN\",\"LRAPBR1\",52,0)\n S LRB=0\n\"RTN\",\"LRAPBR1\",53,0)\n F  S LRB=$O(^LR(LRDFN,LRSS,LRI,.1,LRB)) Q:LRB<1  D\n\"RTN\",\"LRAPBR1\",54,0)\n . S LRX=$$GET1^DIQ(LRFILE,LRB_\",\"_LRIENS,.01)\n\"RTN\",\"LRAPBR1\",55,0)\n . D GLENTRY(LRX,\"\",1)\n\"RTN\",\"LRAPBR1\",56,0)\n ;\n\"RTN\",\"LRAPBR1\",57,0)\n Q\n\"RTN\",\"LRAPBR1\",58,0)\n ;\n\"RTN\",\"LRAPBR1\",59,0)\n ;\n\"RTN\",\"LRAPBR1\",60,0)\nMODCHK ; Display modified banner if required\n\"RTN\",\"LRAPBR1\",61,0)\n S LRAPMR=$$GET1^DIQ(LRSF,LRIENS,.17,\"I\")\n\"RTN\",\"LRAPBR1\",62,0)\n Q:'LRAPMR\n\"RTN\",\"LRAPBR1\",63,0)\n S LRAPMD=$$GET1^DIQ(LRSF,LRIENS,.172,\"I\")\n\"RTN\",\"LRAPBR1\",64,0)\n D GLENTRY(\"\",\"\",1)\n\"RTN\",\"LRAPBR1\",65,0)\n S LRTEXT=\"\"\n\"RTN\",\"LRAPBR1\",66,0)\n F LRCNT=1:1:$S(LRAPMD:14,1:15) D\n\"RTN\",\"LRAPBR1\",67,0)\n . S LRTEXT=LRTEXT_\"*+\"\n\"RTN\",\"LRAPBR1\",68,0)\n S LRTEXT=LRTEXT_\" MODIFIED \"\n\"RTN\",\"LRAPBR1\",69,0)\n S LRTEXT=LRTEXT_$S(LRAPMD:\"DIAGNOSIS \",1:\"REPORT \")\n\"RTN\",\"LRAPBR1\",70,0)\n F LRCNT=1:1:$S(LRAPMD:14,1:15) D\n\"RTN\",\"LRAPBR1\",71,0)\n . S LRTEXT=LRTEXT_\"*+\"\n\"RTN\",\"LRAPBR1\",72,0)\n D GLENTRY(LRTEXT,\"\",1)\n\"RTN\",\"LRAPBR1\",73,0)\n D GLENTRY(\"\",\"\",1)\n\"RTN\",\"LRAPBR1\",74,0)\n Q\n\"RTN\",\"LRAPBR1\",75,0)\n ;\n\"RTN\",\"LRAPBR1\",76,0)\n ;\n\"RTN\",\"LRAPBR1\",77,0)\nSUPBNNR ; Display supplementary report header if one or more has been added\n\"RTN\",\"LRAPBR1\",78,0)\n I $P($G(^LR(LRDFN,LRSS,LRI,1.2,0)),U,4) D\n\"RTN\",\"LRAPBR1\",79,0)\n . S LRTEXT=\"*+* SUPPLEMENTARY REPORT HAS BEEN ADDED *+*\"\n\"RTN\",\"LRAPBR1\",80,0)\n . D GLENTRY($$CJ^XLFSTR(LRTEXT,IOM),\"\",1)\n\"RTN\",\"LRAPBR1\",81,0)\n . S LRTEXT=\"*+* REFER TO BOTTOM OF REPORT *+*\"\n\"RTN\",\"LRAPBR1\",82,0)\n . D GLENTRY($$CJ^XLFSTR(LRTEXT,IOM),\"\",1)\n\"RTN\",\"LRAPBR1\",83,0)\n . D GLENTRY(\"\",\"\",1)\n\"RTN\",\"LRAPBR1\",84,0)\n Q\n\"RTN\",\"LRAPBR1\",85,0)\n ;\n\"RTN\",\"LRAPBR1\",86,0)\n ;\n\"RTN\",\"LRAPBR1\",87,0)\nDIAG ; Display the Brief Clinical History, Preoperative Diagnosis, Operative Findings, and Postoperative Diagnosis\n\"RTN\",\"LRAPBR1\",88,0)\n S LRFILE=LRSF,LRCNT=0,LRIENS=LRI_\",\"_LRDFN_\",\"\n\"RTN\",\"LRAPBR1\",89,0)\n F LRFLD=.013:.001:.016 D\n\"RTN\",\"LRAPBR1\",90,0)\n . D:LRA DASH\n\"RTN\",\"LRAPBR1\",91,0)\n . S LRCNT=LRCNT+1\n\"RTN\",\"LRAPBR1\",92,0)\n . D GLENTRY($P($T(TEXT1+LRCNT),\";\",3),\"\",1)\n\"RTN\",\"LRAPBR1\",93,0)\n . D WP\n\"RTN\",\"LRAPBR1\",94,0)\n Q\n\"RTN\",\"LRAPBR1\",95,0)\n ;\n\"RTN\",\"LRAPBR1\",96,0)\n ;\n\"RTN\",\"LRAPBR1\",97,0)\nDOC ; Pathologist information\n\"RTN\",\"LRAPBR1\",98,0)\n ;\n\"RTN\",\"LRAPBR1\",99,0)\n N LRIENS,LRX\n\"RTN\",\"LRAPBR1\",100,0)\n D GLENTRY(\"\",\"\",1)\n\"RTN\",\"LRAPBR1\",101,0)\n ;\n\"RTN\",\"LRAPBR1\",102,0)\n ; Retrieve surgeon/attending\n\"RTN\",\"LRAPBR1\",103,0)\n D ATTEND(.LRMD)\n\"RTN\",\"LRAPBR1\",104,0)\n D GLENTRY(\"Surgeon/physician: \"_LRMD,27,1)\n\"RTN\",\"LRAPBR1\",105,0)\n I LRMD(\"SR-SURGEON\")'=\"\" D GLENTRY(LRMD(\"SR-SURGEON\"),28,1)\n\"RTN\",\"LRAPBR1\",106,0)\n I LRMD(\"SR-ATTEND\")'=\"\" D GLENTRY(LRMD(\"SR-ATTEND\"),26,1)\n\"RTN\",\"LRAPBR1\",107,0)\n ;I +$G(LRMD(\"ERR\"))=601 D GLENTRY($P(LRMD(\"ERR\"),\"^\",2),26,1)\n\"RTN\",\"LRAPBR1\",108,0)\n ;\n\"RTN\",\"LRAPBR1\",109,0)\n D:LRA GLENTRY(LR(\"%1\"),\"\",1)\n\"RTN\",\"LRAPBR1\",110,0)\n D DASH\n\"RTN\",\"LRAPBR1\",111,0)\n D HEADER2\n\"RTN\",\"LRAPBR1\",112,0)\n D:LRA DASH\n\"RTN\",\"LRAPBR1\",113,0)\n I LRRC=\"\" D\n\"RTN\",\"LRAPBR1\",114,0)\n . D GLENTRY(\"+*+* REPORT INCOMPLETE *+*+\",20,1)\n\"RTN\",\"LRAPBR1\",115,0)\n . D GLENTRY(\"\",\"\",1)\n\"RTN\",\"LRAPBR1\",116,0)\n D GLENTRY(\"\",\"\",1)\n\"RTN\",\"LRAPBR1\",117,0)\n I LRRMD'=\"\" D\n\"RTN\",\"LRAPBR1\",118,0)\n . S LRCNT=0 F LRA1=\"SP\",\"CY\",\"EM\" D\n\"RTN\",\"LRAPBR1\",119,0)\n . . S LRCNT=LRCNT+1\n\"RTN\",\"LRAPBR1\",120,0)\n . . S LRTMP(LRA1)=$P($T(TEXT2+LRCNT),\";\",4)\n\"RTN\",\"LRAPBR1\",121,0)\n . S LRTMP=LRTMP(LRSS)\n\"RTN\",\"LRAPBR1\",122,0)\n        .;EHS/OSS ;UJO*3.0*28 ; JUN 17,2025 ;Update[This Change Was Made To Align \"Pathology Resident\" To The Left]\n\"RTN\",\"LRAPBR1\",123,0)\n        .; Scope  : Aligned \"RESIDENT PATHOLOGIST\" Label To The Left On LRAPR, LRAPSPSGL And LRAPMOD Options\n\"RTN\",\"LRAPBR1\",124,0)\n        .;. D GLENTRY(LRTMP_\" \"_LRRMD,31)\n\"RTN\",\"LRAPBR1\",125,0)\n . DO GLENTRY(LRTMP_\" \"_LRRMD,\"\")\n\"RTN\",\"LRAPBR1\",126,0)\n Q\n\"RTN\",\"LRAPBR1\",127,0)\n ;\n\"RTN\",\"LRAPBR1\",128,0)\n ;\n\"RTN\",\"LRAPBR1\",129,0)\nWPFLD ; Display Frozen Section, Gross Description, Microscopic Description and Surgical Path Diagnosis\n\"RTN\",\"LRAPBR1\",130,0)\n F LRCNT=1:1:4 D\n\"RTN\",\"LRAPBR1\",131,0)\n . S X=$T(FIELDS+LRCNT)\n\"RTN\",\"LRAPBR1\",132,0)\n . S LRV=$P(X,\";\",3),LRV1=$P(X,\";\",4),LRV2=$P(X,\";\",5)\n\"RTN\",\"LRAPBR1\",133,0)\n . D TEXTCHK\n\"RTN\",\"LRAPBR1\",134,0)\n . I $P($G(^LR(LRDFN,LRSS,LRI,LRV,0)),U,4) D\n\"RTN\",\"LRAPBR1\",135,0)\n . . D GLENTRY(\"\",\"\",1),GLENTRY(LR(69.2,LRV1),\"\",1)\n\"RTN\",\"LRAPBR1\",136,0)\n . . S LRFILE=LRSF,LRIENS=LRI_\",\"_LRDFN_\",\",LRFLD=LRV\n\"RTN\",\"LRAPBR1\",137,0)\n . . I $P($G(^LR(LRDFN,LRSS,LRI,LRV2,0)),U,4) D\n\"RTN\",\"LRAPBR1\",138,0)\n . . . S LRFILE1=+$$GET1^DID(LRSF,LRV2,\"\",\"SPECIFIER\")\n\"RTN\",\"LRAPBR1\",139,0)\n . . . D GLENTRY(\"*+* MODIFIED REPORT *+*\",28,1)\n\"RTN\",\"LRAPBR1\",140,0)\n . . . D GLENTRY(\"(Last modified: \",\"\",1)\n\"RTN\",\"LRAPBR1\",141,0)\n . . . S (LRA1,LRB1)=0\n\"RTN\",\"LRAPBR1\",142,0)\n . . . F  S LRA1=$O(^LR(LRDFN,LRSS,LRI,LRV2,LRA1)) Q:'LRA1  S LRB1=LRA1\n\"RTN\",\"LRAPBR1\",143,0)\n . . . Q:'$D(^LR(LRDFN,LRSS,LRI,LRV2,LRB1,0))\n\"RTN\",\"LRAPBR1\",144,0)\n . . . S LRSR1=$$GET1^DIQ(LRFILE1,LRB1_\",\"_LRIENS,.01)\n\"RTN\",\"LRAPBR1\",145,0)\n . . . S LRSR2=$$GET1^DIQ(LRFILE1,LRB1_\",\"_LRIENS,.02)\n\"RTN\",\"LRAPBR1\",146,0)\n . . . S LRTEXT=LRSR1_\" typed by \"_LRSR2_\")\"\n\"RTN\",\"LRAPBR1\",147,0)\n . . . D GLENTRY(LRTEXT,BTAB)\n\"RTN\",\"LRAPBR1\",148,0)\n . . D WP\n\"RTN\",\"LRAPBR1\",149,0)\n Q\n\"RTN\",\"LRAPBR1\",150,0)\n ;\n\"RTN\",\"LRAPBR1\",151,0)\n ;\n\"RTN\",\"LRAPBR1\",152,0)\nSUPRPT ; Supplementary Report\n\"RTN\",\"LRAPBR1\",153,0)\n N LRA2\n\"RTN\",\"LRAPBR1\",154,0)\n I $P($G(^LR(LRDFN,LRSS,LRI,1.2,0)),U,4) D\n\"RTN\",\"LRAPBR1\",155,0)\n . S LRFILE=+$$GET1^DID(LRSF,1.2,\"\",\"SPECIFIER\")\n\"RTN\",\"LRAPBR1\",156,0)\n . S LRIENS1=LRI_\",\"_LRDFN_\",\"\n\"RTN\",\"LRAPBR1\",157,0)\n . D GLENTRY(\"\",\"\",1),GLENTRY(\"SUPPLEMENTARY REPORT(S):\",\"\",1)\n\"RTN\",\"LRAPBR1\",158,0)\n . S LRV=0 F  S LRV=$O(^LR(LRDFN,LRSS,LRI,1.2,LRV)) Q:'LRV  D\n\"RTN\",\"LRAPBR1\",159,0)\n . . S LRIENS=LRV_\",\"_LRIENS1\n\"RTN\",\"LRAPBR1\",160,0)\n . . S LRSR1=$$GET1^DIQ(LRFILE,LRIENS,.01)\n\"RTN\",\"LRAPBR1\",161,0)\n . . S LRSR2=+$$GET1^DIQ(LRFILE,LRIENS,.02)\n\"RTN\",\"LRAPBR1\",162,0)\n . . D GLENTRY(\"Supplementary Report Date: \"_LRSR1,3,1)\n\"RTN\",\"LRAPBR1\",163,0)\n . . I $D(LR(\"R\")),'LRSR2 D GLENTRY(\" not verified\",BTAB) Q\n\"RTN\",\"LRAPBR1\",164,0)\n . . I $P($G(^LR(LRDFN,LRSS,LRI,1.2,LRV,2,0)),U,4) D\n\"RTN\",\"LRAPBR1\",165,0)\n . . . S LRTEXT=\"*+* SUPPLEMENTARY REPORT HAS BEEN ADDED/MODIFIED *+*\"\n\"RTN\",\"LRAPBR1\",166,0)\n . . . D GLENTRY($$CJ^XLFSTR(LRTEXT,IOM),\"\",1)\n\"RTN\",\"LRAPBR1\",167,0)\n . . . D GLENTRY(\"(Added/Last\",\"\",1)\n\"RTN\",\"LRAPBR1\",168,0)\n . . . S (LRA1,LRB1)=0\n\"RTN\",\"LRAPBR1\",169,0)\n . . . F  S LRA1=$O(^LR(LRDFN,LRSS,LRI,1.2,LRV,2,LRA1)) Q:'LRA1  D\n\"RTN\",\"LRAPBR1\",170,0)\n . . . . S LRB1=LRA1\n\"RTN\",\"LRAPBR1\",171,0)\n . . . Q:'$D(^LR(LRDFN,LRSS,LRI,1.2,LRV,2,LRB1,0))\n\"RTN\",\"LRAPBR1\",172,0)\n . . . S LRA2=^(0),Y=+LRA2,LRA2A=$P(LRA2,\"^\",2),LRSGN=\" Typed by \",LRDSC=\" modified: \"\n\"RTN\",\"LRAPBR1\",173,0)\n . . . I $P(LRA2,\"^\",3) S LRSGN=\" Signed by \",LRDSC=\" released: \",LRA2A=$P(LRA2,\"^\",3),Y=$P(LRA2,\"^\",4)\n\"RTN\",\"LRAPBR1\",174,0)\n . . . S LRA2A=$S($D(^VA(200,LRA2A,0)):$P(^(0),\"^\"),1:LRA2A)\n\"RTN\",\"LRAPBR1\",175,0)\n . . . D D^LRU\n\"RTN\",\"LRAPBR1\",176,0)\n . . . D GLENTRY(LRDSC_Y_LRSGN_LRA2A_\")\",BTAB)\n\"RTN\",\"LRAPBR1\",177,0)\n . . S LRFLD=1 D WP\n\"RTN\",\"LRAPBR1\",178,0)\n . . D GLENTRY(\"\",\"\",1)\n\"RTN\",\"LRAPBR1\",179,0)\n Q\n\"RTN\",\"LRAPBR1\",180,0)\n ;\n\"RTN\",\"LRAPBR1\",181,0)\n ;\n\"RTN\",\"LRAPBR1\",182,0)\nCOMMENT ; Print comment field (#99)\n\"RTN\",\"LRAPBR1\",183,0)\n ;\n\"RTN\",\"LRAPBR1\",184,0)\n N LRB\n\"RTN\",\"LRAPBR1\",185,0)\n I '$O(^LR(LRDFN,LRSS,LRI,99,0)) Q\n\"RTN\",\"LRAPBR1\",186,0)\n ;\n\"RTN\",\"LRAPBR1\",187,0)\n D GLENTRY(\"Comment:\",\"\",1)\n\"RTN\",\"LRAPBR1\",188,0)\n ;\n\"RTN\",\"LRAPBR1\",189,0)\n S LRB=0\n\"RTN\",\"LRAPBR1\",190,0)\n F  S LRB=$O(^LR(LRDFN,LRSS,LRI,99,LRB)) Q:'LRB  D\n\"RTN\",\"LRAPBR1\",191,0)\n . S LRB(0)=^LR(LRDFN,LRSS,LRI,99,LRB,0)\n\"RTN\",\"LRAPBR1\",192,0)\n . D GLENTRY(LRB(0),\"\",1)\n\"RTN\",\"LRAPBR1\",193,0)\n ;\n\"RTN\",\"LRAPBR1\",194,0)\n D GLENTRY(\"\",\"\",1)\n\"RTN\",\"LRAPBR1\",195,0)\n ;\n\"RTN\",\"LRAPBR1\",196,0)\n Q\n\"RTN\",\"LRAPBR1\",197,0)\n ;\n\"RTN\",\"LRAPBR1\",198,0)\n ;\n\"RTN\",\"LRAPBR1\",199,0)\nSSJR ; Print special studies/journal references\n\"RTN\",\"LRAPBR1\",200,0)\n D ^LRAPBR3\n\"RTN\",\"LRAPBR1\",201,0)\n S LREFLG=1\n\"RTN\",\"LRAPBR1\",202,0)\n Q\n\"RTN\",\"LRAPBR1\",203,0)\n ;\n\"RTN\",\"LRAPBR1\",204,0)\n ;\n\"RTN\",\"LRAPBR1\",205,0)\nPPL ; Print performing laboratories.\n\"RTN\",\"LRAPBR1\",206,0)\n N LRPL,LRJ\n\"RTN\",\"LRAPBR1\",207,0)\n ;\n\"RTN\",\"LRAPBR1\",208,0)\n D RETLST^LRRPL(.LRPL,LRDFN,LRSS,LRI,0)\n\"RTN\",\"LRAPBR1\",209,0)\n I $G(LRPL)<1 Q\n\"RTN\",\"LRAPBR1\",210,0)\n ;\n\"RTN\",\"LRAPBR1\",211,0)\n D GLENTRY(\"\",\"\",1)\n\"RTN\",\"LRAPBR1\",212,0)\n D GLENTRY(\"\",\"\",1)\n\"RTN\",\"LRAPBR1\",213,0)\n ;\n\"RTN\",\"LRAPBR1\",214,0)\n D GLENTRY(\"Performing Laboratory:\",\"\",1)\n\"RTN\",\"LRAPBR1\",215,0)\n S LRJ=0\n\"RTN\",\"LRAPBR1\",216,0)\n F  S LRJ=$O(LRPL(LRJ)) Q:'LRJ  D GLENTRY(LRPL(LRJ),\"\",1)\n\"RTN\",\"LRAPBR1\",217,0)\n ;\n\"RTN\",\"LRAPBR1\",218,0)\n D GLENTRY(\"\",\"\",1)\n\"RTN\",\"LRAPBR1\",219,0)\n ;\n\"RTN\",\"LRAPBR1\",220,0)\n Q\n\"RTN\",\"LRAPBR1\",221,0)\n ;\n\"RTN\",\"LRAPBR1\",222,0)\n ;\n\"RTN\",\"LRAPBR1\",223,0)\nWP ; Display word processing fields\n\"RTN\",\"LRAPBR1\",224,0)\n K LRTMP,^UTILITY($J,\"W\")\n\"RTN\",\"LRAPBR1\",225,0)\n N X,DIWR,DIWL,LRINC\n\"RTN\",\"LRAPBR1\",226,0)\n S X=$$GET1^DIQ(LRFILE,LRIENS,LRFLD,\"\",\"LRTMP\",)\n\"RTN\",\"LRAPBR1\",227,0)\n S DIWR=IOM-5,DIWL=5,DIWF=$G(DIWF)\n\"RTN\",\"LRAPBR1\",228,0)\n S X=+$$GET1^DID(LRFILE,LRFLD,\"\",\"SPECIFIER\")\n\"RTN\",\"LRAPBR1\",229,0)\n I $$GET1^DID(X,.01,\"\",\"SPECIFIER\")[\"L\",DIWF'[\"N\" S DIWF=DIWF_\"N\"\n\"RTN\",\"LRAPBR1\",230,0)\n S LRINC=0\n\"RTN\",\"LRAPBR1\",231,0)\n F  S LRINC=$O(LRTMP(LRINC)) Q:'LRINC  S X=LRTMP(LRINC) D ^DIWP\n\"RTN\",\"LRAPBR1\",232,0)\n S LRINC=0\n\"RTN\",\"LRAPBR1\",233,0)\n F  S LRINC=$O(^UTILITY($J,\"W\",DIWL,LRINC)) Q:'LRINC  D GLENTRY(^UTILITY($J,\"W\",DIWL,LRINC,0),DIWL,1)\n\"RTN\",\"LRAPBR1\",234,0)\n K ^UTILITY($J,\"W\")\n\"RTN\",\"LRAPBR1\",235,0)\n Q\n\"RTN\",\"LRAPBR1\",236,0)\n ;\n\"RTN\",\"LRAPBR1\",237,0)\n ;\n\"RTN\",\"LRAPBR1\",238,0)\nHEADER ;\n\"RTN\",\"LRAPBR1\",239,0)\n D:LRTIU GLENTRY(\"$APHDR\",,1)\n\"RTN\",\"LRAPBR1\",240,0)\n D GLENTRY(\"\",\"\",1)\n\"RTN\",\"LRAPBR1\",241,0)\n ;\n\"RTN\",\"LRAPBR1\",242,0)\n ; Print names of facilities printing/releasing this report.\n\"RTN\",\"LRAPBR1\",243,0)\n N LRN,LRPL,LRRL,LRX\n\"RTN\",\"LRAPBR1\",244,0)\n I $$GET^XPAR(\"DIV^PKG\",\"LR REPORTS FACILITY PRINT\",1,\"Q\")>1,'LRTIU D\n\"RTN\",\"LRAPBR1\",245,0)\n . D PFAC^LRRP1(DUZ(2),\"\",1,.LRPL)\n\"RTN\",\"LRAPBR1\",246,0)\n . S LRN=0\n\"RTN\",\"LRAPBR1\",247,0)\n . F  S LRN=$O(LRPL(LRN)) Q:'LRN  D GLENTRY(LRPL(LRN),\"\",1)\n\"RTN\",\"LRAPBR1\",248,0)\n ;\n\"RTN\",\"LRAPBR1\",249,0)\n ; Display reporting lab\n\"RTN\",\"LRAPBR1\",250,0)\n I $$GET^XPAR(\"DIV^PKG\",\"LR REPORTS FACILITY PRINT\",1,\"Q\")#2 D\n\"RTN\",\"LRAPBR1\",251,0)\n . S LRX=+$G(^LR(LRDFN,LRSS,LRI,\"RF\"))\n\"RTN\",\"LRAPBR1\",252,0)\n . I LRX<1 Q\n\"RTN\",\"LRAPBR1\",253,0)\n . D RL^LRRP1(LRX,1,.LRRL),GLENTRY(\"\",\"\",1)\n\"RTN\",\"LRAPBR1\",254,0)\n . S LRN=0\n\"RTN\",\"LRAPBR1\",255,0)\n . F  S LRN=$O(LRRL(LRN)) Q:'LRN  D GLENTRY(LRRL(LRN),\"\",1)\n\"RTN\",\"LRAPBR1\",256,0)\n ;\n\"RTN\",\"LRAPBR1\",257,0)\n D DASH\n\"RTN\",\"LRAPBR1\",258,0)\n D GLENTRY(\"MEDICAL RECORD |\",5,1)\n\"RTN\",\"LRAPBR1\",259,0)\n D GLENTRY(LRAA1,40)\n\"RTN\",\"LRAPBR1\",260,0)\n D DASH\n\"RTN\",\"LRAPBR1\",261,0)\n ;\n\"RTN\",\"LRAPBR1\",262,0)\n ;\n\"RTN\",\"LRAPBR1\",263,0)\nHEADER2 ;\n\"RTN\",\"LRAPBR1\",264,0)\n ;\n\"RTN\",\"LRAPBR1\",265,0)\n S LRADESC=\"Accession No. \"_$S(LRQ(8)]\"\":LRQ(8)_LRW(1)_\" \"_LRAC,1:LRAC)\n\"RTN\",\"LRAPBR1\",266,0)\n S LRLENG1=$L(LRQ(1)),LRLENG2=$L(LRADESC),LRSPCE=IOM-LRLENG2-14\n\"RTN\",\"LRAPBR1\",267,0)\n S:LRLENG1>LRSPCE LRQ(1)=$E(LRQ(1),1,LRSPCE)\n\"RTN\",\"LRAPBR1\",268,0)\n ;\n\"RTN\",\"LRAPBR1\",269,0)\n D GLENTRY(\"PATHOLOGY REPORT\",30,1)\n\"RTN\",\"LRAPBR1\",270,0)\n I '$G(^LR(LRDFN,LRSS,LRI,\"RF\")) D GLENTRY(\"Laboratory: \"_LRQ(1),\"\",1)\n\"RTN\",\"LRAPBR1\",271,0)\n D GLENTRY(LRADESC,IOM-LRLENG2-1)\n\"RTN\",\"LRAPBR1\",272,0)\n Q\n\"RTN\",\"LRAPBR1\",273,0)\n ;\n\"RTN\",\"LRAPBR1\",274,0)\n ;\n\"RTN\",\"LRAPBR1\",275,0)\nFOOTER ; Footer-called from ^LRAPBR\n\"RTN\",\"LRAPBR1\",276,0)\n D:LRTIU GLENTRY(\"$FTR\",,1)\n\"RTN\",\"LRAPBR1\",277,0)\n D DASH\n\"RTN\",\"LRAPBR1\",278,0)\n S LRTEXT=$S('$D(LR(\"W\")):\"\",1:\"See signed copy in chart\")\n\"RTN\",\"LRAPBR1\",279,0)\n D GLENTRY(LRTEXT,\"\",1)\n\"RTN\",\"LRAPBR1\",280,0)\n S LRTEXT=\"(\"_$S($D(LREFLG):\"End of report\",1:\"See next page\")_\")\"\n\"RTN\",\"LRAPBR1\",281,0)\n D GLENTRY(LRTEXT,57)\n\"RTN\",\"LRAPBR1\",282,0)\n D GLENTRY(LRPMD,\"\",1),GLENTRY(LRW(9),52),GLENTRY(\"| Date \"_LRRC,55)\n\"RTN\",\"LRAPBR1\",283,0)\n D DASH\n\"RTN\",\"LRAPBR1\",284,0)\n D GLENTRY(LRP,\"\",1)\n\"RTN\",\"LRAPBR1\",285,0)\n S LRTEXT=$S('$D(LR(\"W\")):\"STANDARD FORM 515\",1:\"WORK COPY ONLY !!\")\n\"RTN\",\"LRAPBR1\",286,0)\n D GLENTRY(LRTEXT,50)\n\"RTN\",\"LRAPBR1\",287,0)\n D GLENTRY(\"ID:\"_SSN,\"\",1)\n\"RTN\",\"LRAPBR1\",288,0)\n D GLENTRY(\"SEX:\"_SEX,16),GLENTRY(\" DOB:\"_DOB,BTAB)\n\"RTN\",\"LRAPBR1\",289,0)\n I AGE D\n\"RTN\",\"LRAPBR1\",290,0)\n . S LRTEXT=$S($G(VADM(6))]\"\":\" AGE AT DEATH: \",1:\" AGE: \")_AGE\n\"RTN\",\"LRAPBR1\",291,0)\n . D GLENTRY(LRTEXT,BTAB)\n\"RTN\",\"LRAPBR1\",292,0)\n D GLENTRY(\" LOC:\"_LRLLOC,BTAB)\n\"RTN\",\"LRAPBR1\",293,0)\n D GLENTRY(\"\",\"\",1)\n\"RTN\",\"LRAPBR1\",294,0)\n I LRADM'=\"\" D GLENTRY(\"ADM:\"_$P(LRADM,\"@\"),BTAB)\n\"RTN\",\"LRAPBR1\",295,0)\n I LRADX'=\"\" D GLENTRY(\"DX:\"_$E(LRADX,1,26),17)\n\"RTN\",\"LRAPBR1\",296,0)\n D GLENTRY(\"PCP:\",46)\n\"RTN\",\"LRAPBR1\",297,0)\n I LRPRAC'=\"\" D GLENTRY($E(LRPRAC(1),1,28),51)\n\"RTN\",\"LRAPBR1\",298,0)\n Q\n\"RTN\",\"LRAPBR1\",299,0)\n ;\n\"RTN\",\"LRAPBR1\",300,0)\n ;\n\"RTN\",\"LRAPBR1\",301,0)\nESIGLN ; Write signature block name, title, and date of signature\n\"RTN\",\"LRAPBR1\",302,0)\n D GLENTRY(,,1)\n\"RTN\",\"LRAPBR1\",303,0)\n I $D(^VA(200,DUZ,0)) D\n\"RTN\",\"LRAPBR1\",304,0)\n . S LRFILE=200,LRFLD=20.2,LRFLD2=20.3\n\"RTN\",\"LRAPBR1\",305,0)\n . S X=$$GET1^DIQ(LRFILE,DUZ,LRFLD)\n\"RTN\",\"LRAPBR1\",306,0)\n ; Compare DUZ to pathologist, if different, use proxy signature\n\"RTN\",\"LRAPBR1\",307,0)\n S:LRSS=\"AU\" LRPATH=$$GET1^DIQ(63,LRDFN,13.6,\"I\")\n\"RTN\",\"LRAPBR1\",308,0)\n I LRSS'=\"AU\" D\n\"RTN\",\"LRAPBR1\",309,0)\n . S LRFL2=$S(LRSS=\"EM\":63.02,LRSS=\"CY\":63.09,LRSS=\"SP\":63.08,1:0)\n\"RTN\",\"LRAPBR1\",310,0)\n . S LRIENS=LRI_\",\"_LRDFN_\",\"\n\"RTN\",\"LRAPBR1\",311,0)\n . S LRPATH=$$GET1^DIQ(LRFL2,LRIENS,.02,\"I\")\n\"RTN\",\"LRAPBR1\",312,0)\n S LRPATH2=\"\"\n\"RTN\",\"LRAPBR1\",313,0)\n S:LRPATH'=DUZ LRPATH2=\" FOR \"_$$GET1^DIQ(LRFILE,LRPATH,LRFLD)\n\"RTN\",\"LRAPBR1\",314,0)\n S LRTEXT=\"/es/ \"_X_LRPATH2\n\"RTN\",\"LRAPBR1\",315,0)\n ; S LRTEXT=\"/es/ \"_X\n\"RTN\",\"LRAPBR1\",316,0)\n D GLENTRY(LRTEXT,,1)\n\"RTN\",\"LRAPBR1\",317,0)\n S LRTEXT=$$GET1^DIQ(LRFILE,DUZ,LRFLD2)\n\"RTN\",\"LRAPBR1\",318,0)\n D GLENTRY(LRTEXT,,1)\n\"RTN\",\"LRAPBR1\",319,0)\n S LRTEXT=\"Signed \"_$$FMTE^XLFDT(LRNTIME,\"1MZ\")\n\"RTN\",\"LRAPBR1\",320,0)\n D GLENTRY(LRTEXT,,1)\n\"RTN\",\"LRAPBR1\",321,0)\n Q\n\"RTN\",\"LRAPBR1\",322,0)\n ;\n\"RTN\",\"LRAPBR1\",323,0)\n ;\n\"RTN\",\"LRAPBR1\",324,0)\nDASH ; Display a line of dashes\n\"RTN\",\"LRAPBR1\",325,0)\n D GLENTRY(LR(\"%\"),\"\",1)\n\"RTN\",\"LRAPBR1\",326,0)\n Q\n\"RTN\",\"LRAPBR1\",327,0)\n ;\n\"RTN\",\"LRAPBR1\",328,0)\n ;\n\"RTN\",\"LRAPBR1\",329,0)\nGLENTRY(LRPR1,LRPR2,LRPR3) ; Write to global\n\"RTN\",\"LRAPBR1\",330,0)\n ; LRPR1 = Text to be written to global\n\"RTN\",\"LRAPBR1\",331,0)\n ; LRPR2 = Tab position\n\"RTN\",\"LRAPBR1\",332,0)\n ; LRPR3 = 1 means start a new line.  Otherwise, write an current line.\n\"RTN\",\"LRAPBR1\",333,0)\n S LRPR1=$G(LRPR1)\n\"RTN\",\"LRAPBR1\",334,0)\n S LRPR2=+$G(LRPR2)\n\"RTN\",\"LRAPBR1\",335,0)\n S LRPR3=+$G(LRPR3)\n\"RTN\",\"LRAPBR1\",336,0)\n D:LRPR3 NEWLN^LRAPUTL(LRPR1,LRPR2)\n\"RTN\",\"LRAPBR1\",337,0)\n D:'LRPR3 GLBWRT^LRAPUTL(LRPR1,LRPR2)\n\"RTN\",\"LRAPBR1\",338,0)\n Q\n\"RTN\",\"LRAPBR1\",339,0)\n ;\n\"RTN\",\"LRAPBR1\",340,0)\n ;\n\"RTN\",\"LRAPBR1\",341,0)\nTEXT1 ;Text for top of report\n\"RTN\",\"LRAPBR1\",342,0)\n ;;BRIEF CLINICAL HISTORY:\n\"RTN\",\"LRAPBR1\",343,0)\n ;;PREOPERATIVE DIAGNOSIS:\n\"RTN\",\"LRAPBR1\",344,0)\n ;;OPERATIVE FINDINGS:\n\"RTN\",\"LRAPBR1\",345,0)\n ;;POSTOPERATIVE DIAGNOSIS:\n\"RTN\",\"LRAPBR1\",346,0)\n ;\n\"RTN\",\"LRAPBR1\",347,0)\nTEXT2 ;Descriptive text based on section\n\"RTN\",\"LRAPBR1\",348,0)\n ;;SP;Pathology Resident:\n\"RTN\",\"LRAPBR1\",349,0)\n ;;CY;Screened by:\n\"RTN\",\"LRAPBR1\",350,0)\n ;;EM;Prepared by:\n\"RTN\",\"LRAPBR1\",351,0)\n ;\n\"RTN\",\"LRAPBR1\",352,0)\nFIELDS ;Field numbers for word processing fields\n\"RTN\",\"LRAPBR1\",353,0)\n ;;1.3;.13;6\n\"RTN\",\"LRAPBR1\",354,0)\n ;;1;.03;7\n\"RTN\",\"LRAPBR1\",355,0)\n ;;1.1;.04;4\n\"RTN\",\"LRAPBR1\",356,0)\n ;;1.4;.14;5\n\"RTN\",\"LRAPBR1\",357,0)\n ;\n\"RTN\",\"LRAPBR1\",358,0)\nTEXTCHK ; update text line counter if it is missing (Remedy 116253)\n\"RTN\",\"LRAPBR1\",359,0)\n N I,X,DATA\n\"RTN\",\"LRAPBR1\",360,0)\n S I=0\n\"RTN\",\"LRAPBR1\",361,0)\n K ^TMP(\"WP\",$J)\n\"RTN\",\"LRAPBR1\",362,0)\n S X=$G(^LR(LRDFN,LRSS,LRI,LRV,0))\n\"RTN\",\"LRAPBR1\",363,0)\n I X'=\"\",$L(X,\"^\")=1 D\n\"RTN\",\"LRAPBR1\",364,0)\n . F  S I=$O(^LR(LRDFN,LRSS,LRI,LRV,I)) Q:I=\"\"  D\n\"RTN\",\"LRAPBR1\",365,0)\n . . S DATA=$G(^LR(LRDFN,LRSS,LRI,LRV,I,0))\n\"RTN\",\"LRAPBR1\",366,0)\n . . S ^TMP(\"WP\",$J,I,0)=DATA\n\"RTN\",\"LRAPBR1\",367,0)\n I $D(^TMP(\"WP\",$J)) D\n\"RTN\",\"LRAPBR1\",368,0)\n . D WP^DIE(63.08,LRI_\",\"_LRDFN_\",\",LRV,\"\",\"^TMP(\"\"WP\"\",$J)\")\n\"RTN\",\"LRAPBR1\",369,0)\n . K ^TMP(\"WP\",$J)\n\"RTN\",\"LRAPBR1\",370,0)\n Q\n\"RTN\",\"LRAPBR1\",371,0)\n ;\n\"RTN\",\"LRAPBR1\",372,0)\n ;\n\"RTN\",\"LRAPBR1\",373,0)\nATTEND(LRMD) ; Retrieve surgeon/attending\n\"RTN\",\"LRAPBR1\",374,0)\n ; Call with LRMD = current ordering provider array, pass by reference\n\"RTN\",\"LRAPBR1\",375,0)\n ;\n\"RTN\",\"LRAPBR1\",376,0)\n ; Update ordering provider/surgeon if Surgery package indicates change\n\"RTN\",\"LRAPBR1\",377,0)\n ;\n\"RTN\",\"LRAPBR1\",378,0)\n N LRIENS,LRX\n\"RTN\",\"LRAPBR1\",379,0)\n S LRIENS=LRDFN_\",\"_LRSS_\",\"_LRI_\",0\",(LRMD(\"SR-ATTEND\"),LRMD(\"SR-SURGEON\"))=\"\"\n\"RTN\",\"LRAPBR1\",380,0)\n S LRX=$O(^LR(LRDFN,\"EPR\",\"AD\",LRIENS,1,0))\n\"RTN\",\"LRAPBR1\",381,0)\n I LRX<1 Q\n\"RTN\",\"LRAPBR1\",382,0)\n ;\n\"RTN\",\"LRAPBR1\",383,0)\n N LRDATA,LRJ,LRORDP,LRREF,LRSRDATA,LRSRTN\n\"RTN\",\"LRAPBR1\",384,0)\n S LRREF=LRX_\",\"_LRDFN_\",\"\n\"RTN\",\"LRAPBR1\",385,0)\n D GETDATA^LRUEPR(.LRDATA,LRREF)\n\"RTN\",\"LRAPBR1\",386,0)\n S LRSRTN=LRDATA(63.00013,LRREF,1,\"I\")\n\"RTN\",\"LRAPBR1\",387,0)\n ;\n\"RTN\",\"LRAPBR1\",388,0)\n I $P(LRSRTN,\";\",2)'=\"SRF(\" Q\n\"RTN\",\"LRAPBR1\",389,0)\n ;\n\"RTN\",\"LRAPBR1\",390,0)\n S LRORDP=+$P(^LR(LRDFN,LRSS,LRI,0),\"^\",7) ; Retrieve current surgeon/provider from file #63\n\"RTN\",\"LRAPBR1\",391,0)\n D SRCASE^LRUEPR(.LRSRDATA,+LRSRTN)\n\"RTN\",\"LRAPBR1\",392,0)\n ;\n\"RTN\",\"LRAPBR1\",393,0)\n I $G(LRSRDATA(\"ERR\")) D  Q\n\"RTN\",\"LRAPBR1\",394,0)\n . S LRMD(\"ERR\")=LRSRDATA(\"ERR\")\n\"RTN\",\"LRAPBR1\",395,0)\n . D SRCASERR^LRUEPR(LRREF,LRSRTN,LRSRDATA(\"ERR\"))\n\"RTN\",\"LRAPBR1\",396,0)\n ;\n\"RTN\",\"LRAPBR1\",397,0)\n F LRJ=.14,123 D\n\"RTN\",\"LRAPBR1\",398,0)\n . S LRX=LRSRDATA(130,+LRSRTN_\",\",LRJ,\"I\")\n\"RTN\",\"LRAPBR1\",399,0)\n . I LRX,LRORDP,LRX'=LRORDP S LRMD(\"SR-SURGEON\")=$S(LRJ=.14:\" Current Surgeon\",LRJ=123:\"Current Provider\",1:\"\")_\": \"_$$NAME^XUSER(LRX,\"G\")\n\"RTN\",\"LRAPBR1\",400,0)\n F LRJ=.164,124 D\n\"RTN\",\"LRAPBR1\",401,0)\n . S LRX=LRSRDATA(130,+LRSRTN_\",\",LRJ,\"I\")\n\"RTN\",\"LRAPBR1\",402,0)\n . I LRX S LRMD(\"SR-ATTEND\")=$S(LRJ=.164:\" Attending Surgeon\",LRJ=124:\"Attending Provider\",1:\"\")_\": \"_$$NAME^XUSER(LRX,\"G\")\n\"RTN\",\"LRAPBR1\",403,0)\n ;\n\"RTN\",\"LRAPBR1\",404,0)\n Q\n\"RTN\",\"LRAPCUM\")\n0^4^B26379480\n\"RTN\",\"LRAPCUM\",1,0)\nLRAPCUM ;DALOI/STAFF - AP PATIENT CUM ;03/21/13  15:28\n\"RTN\",\"LRAPCUM\",2,0)\n ;;5.2;LAB SERVICE;**34,72,173,248,259,350,427**;Sep 27, 1994;Build 6\n\"RTN\",\"LRAPCUM\",3,0)\n ;\n\"RTN\",\"LRAPCUM\",4,0)\n ;\n\"RTN\",\"LRAPCUM\",5,0)\n S IOP=\"HOME\" D ^%ZIS,L^LRU\n\"RTN\",\"LRAPCUM\",6,0)\n W !!?15,LRAA(1),\" PATIENT REPORT(S) DISPLAY\"\n\"RTN\",\"LRAPCUM\",7,0)\nP W ! S LR(\"Q\")=0 K DIC D ^LRDPA Q:LRDFN=-1  D R G P\n\"RTN\",\"LRAPCUM\",8,0)\n ;\n\"RTN\",\"LRAPCUM\",9,0)\nR W !!,\"Is this the patient \" S %=1 D YN^LRU Q:%'=1\n\"RTN\",\"LRAPCUM\",10,0)\n I '$D(^LR(LRDFN,LRSS)) W $C(7),!!,\"No \",LRAA(1),\" reports on file\",! Q\n\"RTN\",\"LRAPCUM\",11,0)\n D S F LRI=0:0 W @IOF S LRA(1)=21,LRI=$O(^LR(LRDFN,LRSS,LRI)) Q:'LRI  S B=$G(^(LRI,0)) I B D W Q:LRA(2)?1P\n\"RTN\",\"LRAPCUM\",12,0)\n Q\n\"RTN\",\"LRAPCUM\",13,0)\nC S C=0 F LRZ=0:1 S C=$O(^LR(LRDFN,LRSS,LRI,LRV,C)) Q:'C  D:$Y>LRA(1)!'$Y MORE Q:LRA(2)?1P  W !?2,$P(^LR(LRDFN,LRSS,LRI,LRV,C,0),U)\n\"RTN\",\"LRAPCUM\",14,0)\n Q\n\"RTN\",\"LRAPCUM\",15,0)\nF D E\n\"RTN\",\"LRAPCUM\",16,0)\n K ^UTILITY($J,\"W\")\n\"RTN\",\"LRAPCUM\",17,0)\n S C=0 F LRZ=0:1 S C=$O(^LR(LRDFN,LRSS,LRI,LRV,C)) Q:'C!(LRA(2)?1P)  D\n\"RTN\",\"LRAPCUM\",18,0)\n .D:$Y>LRA(1)!'$Y MORE Q:LRA(2)?1P\n\"RTN\",\"LRAPCUM\",19,0)\n .S X=^LR(LRDFN,LRSS,LRI,LRV,C,0),X=$P(X,U)\n\"RTN\",\"LRAPCUM\",20,0)\n .D ^DIWP\n\"RTN\",\"LRAPCUM\",21,0)\n Q:LRA(2)?1P  D:LRZ ^DIWW\n\"RTN\",\"LRAPCUM\",22,0)\n Q\n\"RTN\",\"LRAPCUM\",23,0)\n ;\n\"RTN\",\"LRAPCUM\",24,0)\n ;\n\"RTN\",\"LRAPCUM\",25,0)\nE K ^TMP($J) S DIWL=3,DIWR=IOM-3,DIWF=\"W\"\n\"RTN\",\"LRAPCUM\",26,0)\n Q\n\"RTN\",\"LRAPCUM\",27,0)\n ;\n\"RTN\",\"LRAPCUM\",28,0)\n ;\n\"RTN\",\"LRAPCUM\",29,0)\nW S Y=+B D D^LRU S LRW(1)=Y,Y=$P(B,\"^\",10) D D^LRU S LRW(10)=Y,Y=$P(B,\"^\",3) D D^LRU S LRW(3)=Y,X=$P(B,\"^\",2) D:X D^LRUA S LRW(2)=X,LRW(11)=$P(B,\"^\",11)\n\"RTN\",\"LRAPCUM\",30,0)\n S X=$P(B,\"^\",4) D:X D^LRUA S LRW(4)=X,X=$P(B,\"^\",7) D:X D^LRUA S LRW(7)=X\n\"RTN\",\"LRAPCUM\",31,0)\n ;\n\"RTN\",\"LRAPCUM\",32,0)\n        ;EHS/OSS ;UJO*3.0*28 ; JUN 17,2025 ;Update[Edit Incorrect Field Label Displayed as \"Resident\" Instead of \"Pathology Resident\"]\n\"RTN\",\"LRAPCUM\",33,0)\n        ; Scope  : Convert \"Resident\" Label To \"Pathology Resident\" On LRAPSPCUM And LRAPPA Options\n\"RTN\",\"LRAPCUM\",34,0)\n        ;W !,\"Date Spec taken: \",LRW(1),?38,\"Pathologist:\",LRW(2),!,\"Date Spec rec'd: \",LRW(10),?38,$S(LRSS=\"SP\":\"Resident: \",31:\"Tech: \"),LRW(4)\n\"RTN\",\"LRAPCUM\",35,0)\n WRITE !,\"Date Spec taken: \",LRW(1),?38,\"Pathologist:\",LRW(2),!,\"Date Spec rec'd: \",LRW(10),?38,$SELECT(LRSS=\"SP\":\"Pathology Resident: \",1:\"Tech: \"),LRW(4)\n\"RTN\",\"LRAPCUM\",36,0)\n W !,$S($L(LRW(3)):\"Date  completed: \",1:\"REPORT INCOMPLETE\"),LRW(3),?38,\"Accession #: \",$P(B,\"^\",6),!,\"Submitted by: \",$P(B,\"^\",5),?38,\"Practitioner:\",LRW(7),!,LR(\"%\")\n\"RTN\",\"LRAPCUM\",37,0)\n I LRW(11)=\"\" D A W !,$C(7),\"Report not verified\",! G MORE\n\"RTN\",\"LRAPCUM\",38,0)\n I $D(^LR(LRDFN,LRSS,LRI,.1)) W !,\"Specimen: \" S LRV=.1 D C Q:LRA(2)?1P\n\"RTN\",\"LRAPCUM\",39,0)\n I $D(^LR(LRDFN,LRSS,LRI,.2)) W !,\"Brief Clinical History:\" S LRV=.2 D F Q:LRA(2)?1P\n\"RTN\",\"LRAPCUM\",40,0)\n I $D(^LR(LRDFN,LRSS,LRI,.3)) W !,\"Preoperative Diagnosis:\" S LRV=.3 D F Q:LRA(2)?1P\n\"RTN\",\"LRAPCUM\",41,0)\n I $D(^LR(LRDFN,LRSS,LRI,.4)) W !,\"Operative Findings:\" S LRV=.4 D F Q:LRA(2)?1P\n\"RTN\",\"LRAPCUM\",42,0)\n I $D(^LR(LRDFN,LRSS,LRI,.5)) W !,\"Postoperative Diagnosis:\" S LRV=.5 D F Q:LRA(2)?1P\n\"RTN\",\"LRAPCUM\",43,0)\n D SET^LRUA\n\"RTN\",\"LRAPCUM\",44,0)\n I $O(^LR(LRDFN,LRSS,LRI,1.3,0)) D:$Y>LRA(1)!'$Y MORE Q:LRA(2)?1P  W !,LR(69.2,.13) I $P($G(^LR(LRDFN,LRSS,LRI,6,0)),U,4) S LR(0)=6 D ^LRSPRPTM\n\"RTN\",\"LRAPCUM\",45,0)\n S LRV=1.3 D F Q:LRA(2)?1P\n\"RTN\",\"LRAPCUM\",46,0)\n I $O(^LR(LRDFN,LRSS,LRI,1,0)) D:$Y>LRA(1)!'$Y MORE Q:LRA(2)?1P  W !,LR(69.2,.03) I $P($G(^LR(LRDFN,LRSS,LRI,7,0)),U,4) S LR(0)=7 D ^LRSPRPTM\n\"RTN\",\"LRAPCUM\",47,0)\n S LRV=1 D F Q:LRA(2)?1P\n\"RTN\",\"LRAPCUM\",48,0)\n I $O(^LR(LRDFN,LRSS,LRI,1.1,0)) D:$Y>LRA(1)!'$Y MORE Q:LRA(2)?1P  W !,LR(69.2,.04),\" (Date Spec taken: \",LRW(1),\")\" I $P($G(^LR(LRDFN,LRSS,LRI,4,0)),U,4) S LR(0)=4 D ^LRSPRPTM\n\"RTN\",\"LRAPCUM\",49,0)\n S LRV=1.1 D F Q:LRA(2)?1P  I $O(^LR(LRDFN,LRSS,LRI,1.4,0)) D:$Y>LRA(1)!'$Y MORE Q:LRA(2)?1P  W !,LR(69.2,.14) I $P($G(^LR(LRDFN,LRSS,LRI,5,0)),U,4) S LR(0)=5 D ^LRSPRPTM\n\"RTN\",\"LRAPCUM\",50,0)\n S LRV=1.4 D F Q:LRA(2)?1P\n\"RTN\",\"LRAPCUM\",51,0)\n I $O(^LR(LRDFN,LRSS,LRI,1.2,0)) D\n\"RTN\",\"LRAPCUM\",52,0)\n .W !,\"Supplementary Report:\"\n\"RTN\",\"LRAPCUM\",53,0)\n .F C=0:0 S C=$O(^LR(LRDFN,LRSS,LRI,1.2,C)) Q:'C!(LRA(2)?1P)  D\n\"RTN\",\"LRAPCUM\",54,0)\n ..S X=^(C,0),Y=+X,X=$P(X,U,2) D D^LRU\n\"RTN\",\"LRAPCUM\",55,0)\n ..W !?3,\"Date: \",Y W:'X \" not verified\"\n\"RTN\",\"LRAPCUM\",56,0)\n ..D:$Y>LRA(1)!'$Y MORE Q:LRA(2)?1P\n\"RTN\",\"LRAPCUM\",57,0)\n ..I X,$P($G(^LR(LRDFN,LRSS,LRI,1.2,C,2,0)),U,4) D\n\"RTN\",\"LRAPCUM\",58,0)\n ...S LRV=C,LR(\"Q\")=LRA(2)\n\"RTN\",\"LRAPCUM\",59,0)\n ...D SUPA^LRSPRPT\n\"RTN\",\"LRAPCUM\",60,0)\n ...S LRA(2)=LR(\"Q\")\n\"RTN\",\"LRAPCUM\",61,0)\n ..D:X U Q:LRA(2)?1P\n\"RTN\",\"LRAPCUM\",62,0)\n Q:LRA(2)?1P\n\"RTN\",\"LRAPCUM\",63,0)\n ;\n\"RTN\",\"LRAPCUM\",64,0)\n ; User must possess the LRLAB key to view SNOMED codes\n\"RTN\",\"LRAPCUM\",65,0)\n I $D(^LR(LRDFN,LRSS,LRI,2)) D\n\"RTN\",\"LRAPCUM\",66,0)\n .D B\n\"RTN\",\"LRAPCUM\",67,0)\n .I $D(^XUSEC(\"LRLAB\",DUZ)) D ^LRAPCUM1\n\"RTN\",\"LRAPCUM\",68,0)\n Q:LRA(2)?1P\n\"RTN\",\"LRAPCUM\",69,0)\n ; DALOI/LMT - LR,427 - Removed comments from report to restore pre-LR,350 behavior\n\"RTN\",\"LRAPCUM\",70,0)\n ;I $D(^LR(LRDFN,LRSS,LRI,99)) D\n\"RTN\",\"LRAPCUM\",71,0)\n ;. N A\n\"RTN\",\"LRAPCUM\",72,0)\n ;. W !,\"Comments:\" S A=0\n\"RTN\",\"LRAPCUM\",73,0)\n ;. F  S A=$O(^LR(LRDFN,LRSS,LRI,99,A)) Q:'A  W !,$P(^(A,0),\"^\")\n\"RTN\",\"LRAPCUM\",74,0)\n D MORE\n\"RTN\",\"LRAPCUM\",75,0)\n Q\n\"RTN\",\"LRAPCUM\",76,0)\n ;\n\"RTN\",\"LRAPCUM\",77,0)\n ;\n\"RTN\",\"LRAPCUM\",78,0)\nMORE R !,\"'^' TO STOP: \",LRA(2):DTIME I LRA(2)[\"?\" W $C(7) G MORE\n\"RTN\",\"LRAPCUM\",79,0)\n I LRA(2)?1P S A=0 Q\n\"RTN\",\"LRAPCUM\",80,0)\n S LRA(1)=LRA(1)+21\n\"RTN\",\"LRAPCUM\",81,0)\n W $C(13),$J(\"\",15),$C(13)\n\"RTN\",\"LRAPCUM\",82,0)\n Q\n\"RTN\",\"LRAPCUM\",83,0)\n ;\n\"RTN\",\"LRAPCUM\",84,0)\n ;\n\"RTN\",\"LRAPCUM\",85,0)\nS S (A,LRA(2))=0\n\"RTN\",\"LRAPCUM\",86,0)\n Q\n\"RTN\",\"LRAPCUM\",87,0)\n ;\n\"RTN\",\"LRAPCUM\",88,0)\n ;\n\"RTN\",\"LRAPCUM\",89,0)\nU D E\n\"RTN\",\"LRAPCUM\",90,0)\n K ^UTILITY($J,\"W\")\n\"RTN\",\"LRAPCUM\",91,0)\n S E=0\n\"RTN\",\"LRAPCUM\",92,0)\n F LRZ=0:1 S E=$O(^LR(LRDFN,LRSS,LRI,1.2,C,1,E)) Q:'E!(LRA(2)?1P)  D\n\"RTN\",\"LRAPCUM\",93,0)\n .D:$Y>LRA(1)!'$Y MORE Q:LRA(2)?1P\n\"RTN\",\"LRAPCUM\",94,0)\n .S X=^LR(LRDFN,LRSS,LRI,1.2,C,1,E,0)\n\"RTN\",\"LRAPCUM\",95,0)\n .D ^DIWP\n\"RTN\",\"LRAPCUM\",96,0)\n Q:LRA(2)?1P  D:LRZ ^DIWW\n\"RTN\",\"LRAPCUM\",97,0)\n Q\n\"RTN\",\"LRAPCUM\",98,0)\n ;\n\"RTN\",\"LRAPCUM\",99,0)\n ;\n\"RTN\",\"LRAPCUM\",100,0)\nB F C=0:0 S C=$O(^LR(LRDFN,LRSS,LRI,2,C)) Q:'C!(LRA(2)?1P)  D SP\n\"RTN\",\"LRAPCUM\",101,0)\n Q\n\"RTN\",\"LRAPCUM\",102,0)\n ;\n\"RTN\",\"LRAPCUM\",103,0)\n ;\n\"RTN\",\"LRAPCUM\",104,0)\nSP F G=0:0 S G=$O(^LR(LRDFN,LRSS,LRI,2,C,5,G)) Q:'G  S X=^(G,0),Y=$P(X,\"^\",2),E=$P(X,\"^\",3),E(1)=$P(X,\"^\")_\":\",E(1)=$P($P(LR(LRSS),E(1),2),\";\") D D^LRU S T(2)=Y D:$Y>LRA(1)!'$Y MORE Q:LRA(2)?1P  D WP\n\"RTN\",\"LRAPCUM\",105,0)\n Q\n\"RTN\",\"LRAPCUM\",106,0)\n ;\n\"RTN\",\"LRAPCUM\",107,0)\n ;\n\"RTN\",\"LRAPCUM\",108,0)\nWP W !,E(1),\" \",E,\" Date: \",T(2),\" \",!\n\"RTN\",\"LRAPCUM\",109,0)\n D E\n\"RTN\",\"LRAPCUM\",110,0)\n K ^UTILITY($J,\"W\")\n\"RTN\",\"LRAPCUM\",111,0)\n S F=0\n\"RTN\",\"LRAPCUM\",112,0)\n F LRZ=0:1 S F=$O(^LR(LRDFN,LRSS,LRI,2,C,5,G,1,F)) Q:'F!(LRA(2)?1P)  D\n\"RTN\",\"LRAPCUM\",113,0)\n .D:$Y>LRA(1)!'$Y MORE Q:LRA(2)?1P\n\"RTN\",\"LRAPCUM\",114,0)\n .S X=^LR(LRDFN,LRSS,LRI,2,C,5,G,1,F,0) D ^DIWP\n\"RTN\",\"LRAPCUM\",115,0)\n Q:LRA(2)?1P  D:LRZ ^DIWW\n\"RTN\",\"LRAPCUM\",116,0)\n Q\n\"RTN\",\"LRAPCUM\",117,0)\n ;\n\"RTN\",\"LRAPCUM\",118,0)\n ;\n\"RTN\",\"LRAPCUM\",119,0)\nA S A=0 F  S A=$O(^LR(LRDFN,LRSS,LRI,97,A)) Q:'A  W !,^(A,0)\n\"RTN\",\"LRAPCUM\",120,0)\n Q\n\"RTN\",\"LRAPD1\")\n0^2^B29057051\n\"RTN\",\"LRAPD1\",1,0)\nLRAPD1 ;AVAMC/REG/WTY/KLL - AP DATA ENTRY ;9/25/00\n\"RTN\",\"LRAPD1\",2,0)\n ;;5.2;LAB SERVICE;**41,91,248,259,317,350,422**;Sep 27, 1994;Build 6\n\"RTN\",\"LRAPD1\",3,0)\n ;\n\"RTN\",\"LRAPD1\",4,0)\n ;WTY;17-AUG-01;Unwrapped text and add kills for DR string\n\"RTN\",\"LRAPD1\",5,0)\n ;\n\"RTN\",\"LRAPD1\",6,0)\nSP ;Gross Desc/Clinical Hx, Surg Path\n\"RTN\",\"LRAPD1\",7,0)\n S LRSOP=\"G\"\n\"RTN\",\"LRAPD1\",8,0)\n K DR S DR=\".09///^S X=LRWHO;.012;.013;.014;.015;.016;\"\n\"RTN\",\"LRAPD1\",9,0)\n S DR=DR_\".021//^S X=LR(\"\"TR\"\");1;S:'LR(\"\"FS\"\") Y=0;1.3\"\n\"RTN\",\"LRAPD1\",10,0)\n S LR(6)=1,DR(2,63.812)=\".01;.06R;.07R\"\n\"RTN\",\"LRAPD1\",11,0)\n Q\n\"RTN\",\"LRAPD1\",12,0)\nMSP ;Micro Description/Gross Review, Surg Path\n\"RTN\",\"LRAPD1\",13,0)\n S LRSOP=\"M\"\n\"RTN\",\"LRAPD1\",14,0)\n K DR S DR=\".09///^S X=LRWHO;S:'LR(\"\"FS\"\") Y=1;1.3;1;1.1;\"\n\"RTN\",\"LRAPD1\",15,0)\n        ;EHS/OSS ;UJO*3.0*28 ; APR 30,2025 ;Update[Add New Prompt \"RESIDENT PATHOLOGIST\" For Surgical Pathology Accession Areas]\n\"RTN\",\"LRAPD1\",16,0)\n        ; Scope  : Add \"RESIDENT PATHOLOGIST\" Prompt to FS/Gross/Micro/Dx \"LRAPDGM\" Option\n\"RTN\",\"LRAPD1\",17,0)\n        ;S DR=DR_\"S:'LR(\"\"DX\"\") Y=.02;1.4;.02;.03;S:'LRV Y=0;.14\"\n\"RTN\",\"LRAPD1\",18,0)\n        SET DR=DR_\"S:'LR(\"\"DX\"\") Y=.02;1.4;.021;.02;.03;S:'LRV Y=0;.14\"\n\"RTN\",\"LRAPD1\",19,0)\n S (LR(7),LR(6))=1\n\"RTN\",\"LRAPD1\",20,0)\n Q\n\"RTN\",\"LRAPD1\",21,0)\nBSP ;Micro Description/Snomed Coding\n\"RTN\",\"LRAPD1\",22,0)\n S LRSOP=\"B\",(LR(2),LR(7),LR(6))=1\n\"RTN\",\"LRAPD1\",23,0)\n K DR S DR=\".09///^S X=LRWHO;S:'LR(\"\"FS\"\") Y=1;1.3;1;1.1;\"\n\"RTN\",\"LRAPD1\",24,0)\n        ;EHS/OSS ;UJO*3.0*28 ; APR 30,2025 ;Update[Add New Prompt \"RESIDENT PATHOLOGIST\" For Surgical Pathology Accession Areas]\n\"RTN\",\"LRAPD1\",25,0)\n        ; Scope  : Add \"RESIDENT PATHOLOGIST\" Prompt to FS/Gross/Micro/Dx/SNOMED Coding \"LRAPDGS\" Option\n\"RTN\",\"LRAPD1\",26,0)\n        ;S DR=DR_\"S:'LR(\"\"DX\"\") Y=.02;1.4;.02;.03;S:'LRV Y=10;.14;10\"\n\"RTN\",\"LRAPD1\",27,0)\n SET DR=DR_\"S:'LR(\"\"DX\"\") Y=.02;1.4;.021;.02;.03;S:'LRV Y=10;.14;10\"\n\"RTN\",\"LRAPD1\",28,0)\n S DR(2,63.12)=\".01;D T^LRAPD;S:'LR(8) Y=4;2;4;I '$D(LR(1)) S Y=0;\"\n\"RTN\",\"LRAPD1\",29,0)\n S DR(2,63.12)=DR(2,63.12)_\"1;1.5;3\"\n\"RTN\",\"LRAPD1\",30,0)\n S DR(3,63.16)=\".01;I '$D(LR(1)) S Y=0;1\"\n\"RTN\",\"LRAPD1\",31,0)\n S DR(3,63.82)=\".01;D R^LRAPD;.02\"\n\"RTN\",\"LRAPD1\",32,0)\n Q\n\"RTN\",\"LRAPD1\",33,0)\nASP ;Micro Description/ICDCM Coding\n\"RTN\",\"LRAPD1\",34,0)\n S LRSOP=\"A\",(LR(7),LR(6))=1\n\"RTN\",\"LRAPD1\",35,0)\n K DR S DR=\".09///^S X=LRWHO;S:'LR(\"\"FS\"\") Y=1;1.3;1;1.1;\"\n\"RTN\",\"LRAPD1\",36,0)\n S DR=DR_\"S:'LR(\"\"DX\"\") Y=.02;1.4;.02;.03;D F80^LRAPD1;.14;@1;\"_$S($G(LRCDSYS)=30:\"D EN^LRAPICD(LRDXV)\",1:80)\n\"RTN\",\"LRAPD1\",37,0)\n Q\n\"RTN\",\"LRAPD1\",38,0)\nF80 ;\n\"RTN\",\"LRAPD1\",39,0)\n I 'LRV S Y=\"@1\"\n\"RTN\",\"LRAPD1\",40,0)\n Q\n\"RTN\",\"LRAPD1\",41,0)\nSSP ;Supplementary Report, Surg Path\n\"RTN\",\"LRAPD1\",42,0)\n S (LRSOP,LRSFLG)=\"S\",(LR(2),LR(7),LR(6))=1\n\"RTN\",\"LRAPD1\",43,0)\n K DR\n\"RTN\",\"LRAPD1\",44,0)\n ;Entry of Supp rept must be allowed on released reports\n\"RTN\",\"LRAPD1\",45,0)\n ;S DR=\"N LRREL D RELEASE^LRAPUTL(.LRREL,LRDFN,LRSS,LRI) \"\n\"RTN\",\"LRAPD1\",46,0)\n ;S DR=DR_\"I LRREL(1) D VMSG^LRAPD1 S LRSFLG=\"\"\"\",Y=0;\"\n\"RTN\",\"LRAPD1\",47,0)\n ;S DR=DR_\".09///^S X=LRWHO;.03;10\"\n\"RTN\",\"LRAPD1\",48,0)\n S DR=\".09///^S X=LRWHO;.03;10\"\n\"RTN\",\"LRAPD1\",49,0)\n S DR(2,63.12)=\".01;D T^LRAPD;S:'LR(8) Y=4;2;4;I '$D(LR(1)) \"\n\"RTN\",\"LRAPD1\",50,0)\n S DR(2,63.12)=DR(2,63.12)_\"S Y=0;1;1.5;3\"\n\"RTN\",\"LRAPD1\",51,0)\n S DR(3,63.16)=\".01;I '$D(LR(1)) S Y=0;1\"\n\"RTN\",\"LRAPD1\",52,0)\n S DR(3,63.82)=\".01;D R^LRAPD;.02\"\n\"RTN\",\"LRAPD1\",53,0)\n Q\n\"RTN\",\"LRAPD1\",54,0)\nPSP ;Special Studies, Surg Path\n\"RTN\",\"LRAPD1\",55,0)\n S LRSOP=\"P\"\n\"RTN\",\"LRAPD1\",56,0)\n K DR\n\"RTN\",\"LRAPD1\",57,0)\n S DR=\"N LRREL D RELEASE^LRAPUTL(.LRREL,LRDFN,LRSS,LRI) \"\n\"RTN\",\"LRAPD1\",58,0)\n S DR=DR_\"I LRREL(1) D VMSG^LRAPD1 S Y=0;.03;10\"\n\"RTN\",\"LRAPD1\",59,0)\n S DR(2,63.12)=\"5;1.5\"\n\"RTN\",\"LRAPD1\",60,0)\n S DR(3,63.82)=\".01;D R^LRAPD;.02\",LR(7)=1\n\"RTN\",\"LRAPD1\",61,0)\n Q\n\"RTN\",\"LRAPD1\",62,0)\nCY ;Gross Desc/Clinic Hx, Cytopath\n\"RTN\",\"LRAPD1\",63,0)\n S LRSOP=\"G\"\n\"RTN\",\"LRAPD1\",64,0)\n K DR S DR=\".09///^S X=LRWHO;.012;.013;.014;.015;.016;\"\n\"RTN\",\"LRAPD1\",65,0)\n S DR=DR_\".021//^S X=LR(\"\"TR\"\");1\"\n\"RTN\",\"LRAPD1\",66,0)\n S LR(6)=1,DR(2,63.902)=\".01;.02;.06R;.07R\"\n\"RTN\",\"LRAPD1\",67,0)\n Q\n\"RTN\",\"LRAPD1\",68,0)\nMCY ;Micro Desc/Gross Review, Cytopath\n\"RTN\",\"LRAPD1\",69,0)\n S LRSOP=\"M\"\n\"RTN\",\"LRAPD1\",70,0)\n K DR S DR=\".09///^S X=LRWHO;1;1.1;S:'LR(\"\"DX\"\") Y=.021;1.4;\"\n\"RTN\",\"LRAPD1\",71,0)\n S DR=DR_\".021//^S X=LR(\"\"TR\"\");.02;.03;.101;S:'LRV Y=0;.14\"\n\"RTN\",\"LRAPD1\",72,0)\n S (LR(7),LR(6))=1\n\"RTN\",\"LRAPD1\",73,0)\n Q\n\"RTN\",\"LRAPD1\",74,0)\nBCY ;Micro Desc/SNOMED Coding, Cytopath\n\"RTN\",\"LRAPD1\",75,0)\n S LRSOP=\"B\",DIC(0)=\"M\"\n\"RTN\",\"LRAPD1\",76,0)\n S (LR(2),LR(7),LR(6))=1\n\"RTN\",\"LRAPD1\",77,0)\n K DR S DR=\".09///^S X=LRWHO;1;1.1;S:'LR(\"\"DX\"\") Y=.021;1.4;\"\n\"RTN\",\"LRAPD1\",78,0)\n S DR=DR_\".021//^S X=LR(\"\"TR\"\");.02;.03;.101;S:'LRV Y=10;.14;10\"\n\"RTN\",\"LRAPD1\",79,0)\n S DR(2,63.912)=\".01;D T^LRAPD;S:'LR(8) Y=4;2;4;\"\n\"RTN\",\"LRAPD1\",80,0)\n S DR(2,63.912)=DR(2,63.912)_\"I '$D(LR(1)) S Y=0;1;1.5;3\"\n\"RTN\",\"LRAPD1\",81,0)\n S DR(3,63.916)=\".01;I '$D(LR(1)) S Y=0;1\"\n\"RTN\",\"LRAPD1\",82,0)\n S DR(3,63.982)=\".01;D R^LRAPD;.02\"\n\"RTN\",\"LRAPD1\",83,0)\n Q\n\"RTN\",\"LRAPD1\",84,0)\nACY ;Micro Desc/ICDCM Coding\n\"RTN\",\"LRAPD1\",85,0)\n S LRSOP=\"A\"\n\"RTN\",\"LRAPD1\",86,0)\n S (LR(7),LR(6))=1\n\"RTN\",\"LRAPD1\",87,0)\n K DR S DR=\".09///^S X=LRWHO;1;1.1;S:'LR(\"\"DX\"\") Y=.021;1.4;\"\n\"RTN\",\"LRAPD1\",88,0)\n S DR=DR_\".021//^S X=LR(\"\"TR\"\");.02;.03;.101;D F80^LRAPD1;.14;@1;\"_$S($G(LRCDSYS)=30:\"D EN^LRAPICD(LRDXV)\",1:80)\n\"RTN\",\"LRAPD1\",89,0)\n Q\n\"RTN\",\"LRAPD1\",90,0)\nSCY ;Supplementary Report, Cyto\n\"RTN\",\"LRAPD1\",91,0)\n S LRSFLG=\"S\"\n\"RTN\",\"LRAPD1\",92,0)\n S (LR(2),LR(7),LR(6))=1\n\"RTN\",\"LRAPD1\",93,0)\n K DR\n\"RTN\",\"LRAPD1\",94,0)\n ;Entry of Supp rept must be allowed on released reports\n\"RTN\",\"LRAPD1\",95,0)\n ;S DR=\"N LRREL D RELEASE^LRAPUTL(.LRREL,LRDFN,LRSS,LRI) \"\n\"RTN\",\"LRAPD1\",96,0)\n ;S DR=DR_\"I LRREL(1) D VMSG^LRAPD1 S LRSFLG=\"\"\"\",Y=0;\"\n\"RTN\",\"LRAPD1\",97,0)\n ;S DR=DR_\".09///^S X=LRWHO;.03;10\"\n\"RTN\",\"LRAPD1\",98,0)\n S DR=\".09///^S X=LRWHO;.03;10\"\n\"RTN\",\"LRAPD1\",99,0)\n S DR(2,63.912)=\".01;D T^LRAPD;S:'LR(8) Y=4;2;4;I '$D(LR(1)) \"\n\"RTN\",\"LRAPD1\",100,0)\n S DR(2,63.912)=DR(2,63.912)_\"S Y=0;1;1.5;3\"\n\"RTN\",\"LRAPD1\",101,0)\n S DR(3,63.916)=\".01;I '$D(LR(1)) S Y=0;1\"\n\"RTN\",\"LRAPD1\",102,0)\n S DR(3,63.982)=\".01;D R^LRAPD;.02\"\n\"RTN\",\"LRAPD1\",103,0)\n Q\n\"RTN\",\"LRAPD1\",104,0)\nPCY ;Special Studies, Cyto\n\"RTN\",\"LRAPD1\",105,0)\n K DR\n\"RTN\",\"LRAPD1\",106,0)\n S DR=\"N LRREL D RELEASE^LRAPUTL(.LRREL,LRDFN,LRSS,LRI) \"\n\"RTN\",\"LRAPD1\",107,0)\n S DR=DR_\"I LRREL(1) D VMSG^LRAPD1 S Y=0;.03;10\"\n\"RTN\",\"LRAPD1\",108,0)\n S DR(2,63.912)=\"5;1.5\"\n\"RTN\",\"LRAPD1\",109,0)\n S DR(3,63.982)=\".01;D R^LRAPD;.02\"\n\"RTN\",\"LRAPD1\",110,0)\n S LR(7)=1\n\"RTN\",\"LRAPD1\",111,0)\n Q\n\"RTN\",\"LRAPD1\",112,0)\nEM ;Gross Desc/Clinical Hx, Em\n\"RTN\",\"LRAPD1\",113,0)\n S LRSOP=\"G\",LR(6)=1\n\"RTN\",\"LRAPD1\",114,0)\n K DR S DR=\".09///^S X=LRWHO;.012;.013;.014;.015;.016;\"\n\"RTN\",\"LRAPD1\",115,0)\n S DR=DR_\".021//^S X=LR(\"\"TR\"\");1\"\n\"RTN\",\"LRAPD1\",116,0)\n S DR(2,63.202)=\".01;.06R;.07R\"\n\"RTN\",\"LRAPD1\",117,0)\n Q\n\"RTN\",\"LRAPD1\",118,0)\nMEM ;Micro Desc/Gross Review, EM\n\"RTN\",\"LRAPD1\",119,0)\n S LRSOP=\"M\"\n\"RTN\",\"LRAPD1\",120,0)\n K DR S DR=\".09///^S X=LRWHO;1;1.1;S:'LR(\"\"DX\"\") Y=.021;1.4;\"\n\"RTN\",\"LRAPD1\",121,0)\n S DR=DR_\".021//^S X=LR(\"\"TR\"\");.02;.03;S:'LRV Y=0;.14\"\n\"RTN\",\"LRAPD1\",122,0)\n S (LR(7),LR(6))=1\n\"RTN\",\"LRAPD1\",123,0)\n Q\n\"RTN\",\"LRAPD1\",124,0)\nBEM ;Micro Desc/SNOMED Coding\n\"RTN\",\"LRAPD1\",125,0)\n S LRSOP=\"B\",(LR(2),LR(7),LR(6))=1\n\"RTN\",\"LRAPD1\",126,0)\n K DR S DR=\".09///^S X=LRWHO;1;1.1;S:'LR(\"\"DX\"\") Y=.021;1.4;\"\n\"RTN\",\"LRAPD1\",127,0)\n S DR=DR_\".021//^S X=LR(\"\"TR\"\");.02;.03;S:'LRV Y=10;.14;10\"\n\"RTN\",\"LRAPD1\",128,0)\n S DR(2,63.212)=\".01;D T^LRAPD;S:'LR(8) Y=4;2;4;\"\n\"RTN\",\"LRAPD1\",129,0)\n S DR(2,63.212)=DR(2,63.212)_\"I '$D(LR(1)) S Y=0;1;1.5;3\"\n\"RTN\",\"LRAPD1\",130,0)\n S DR(3,63.216)=\".01;I '$D(LR(1)) S Y=0;1\"\n\"RTN\",\"LRAPD1\",131,0)\n S DR(3,63.282)=\".01;D R^LRAPD;.02\"\n\"RTN\",\"LRAPD1\",132,0)\n Q\n\"RTN\",\"LRAPD1\",133,0)\nAEM ;Micro Desc/ICDCM Coding\n\"RTN\",\"LRAPD1\",134,0)\n S LRSOP=\"A\"\n\"RTN\",\"LRAPD1\",135,0)\n S (LR(7),LR(6))=1\n\"RTN\",\"LRAPD1\",136,0)\n K DR S DR=\".09///^S X=LRWHO;1;1.1;S:'LR(\"\"DX\"\") Y=.021;1.4;\"\n\"RTN\",\"LRAPD1\",137,0)\n S DR=DR_\".021//^S X=LR(\"\"TR\"\");.02;.03;D F80^LRAPD1;.14;@1;\"_$S($G(LRCDSYS)=30:\"D EN^LRAPICD(LRDXV)\",1:80)\n\"RTN\",\"LRAPD1\",138,0)\n Q\n\"RTN\",\"LRAPD1\",139,0)\nSEM ;Supplementary Report, EM\n\"RTN\",\"LRAPD1\",140,0)\n S LRSFLG=\"S\"\n\"RTN\",\"LRAPD1\",141,0)\n S (LR(2),LR(7),LR(6))=1\n\"RTN\",\"LRAPD1\",142,0)\n K DR\n\"RTN\",\"LRAPD1\",143,0)\n ;Entry of Supp rept must be allowed on released reports\n\"RTN\",\"LRAPD1\",144,0)\n ;S DR=\"N LRREL D RELEASE^LRAPUTL(.LRREL,LRDFN,LRSS,LRI) \"\n\"RTN\",\"LRAPD1\",145,0)\n ;S DR=DR_\"I LRREL(1) D VMSG^LRAPD1 S LRSFLG=\"\"\"\",Y=0;\"\n\"RTN\",\"LRAPD1\",146,0)\n ;S DR=DR_\".09///^S X=LRWHO;.03;10\"\n\"RTN\",\"LRAPD1\",147,0)\n S DR=\".09///^S X=LRWHO;.03;10\"\n\"RTN\",\"LRAPD1\",148,0)\n S DR(2,63.212)=\".01;D T^LRAPD;S:'LR(8) Y=4;2;4;I '$D(LR(1)) \"\n\"RTN\",\"LRAPD1\",149,0)\n S DR(2,63.212)=DR(2,63.212)_\"S Y=0;1;1.5;3\"\n\"RTN\",\"LRAPD1\",150,0)\n S DR(3,63.216)=\".01;I '$D(LR(1)) S Y=0;1\"\n\"RTN\",\"LRAPD1\",151,0)\n S DR(3,63.282)=\".01;D R^LRAPD;.02\"\n\"RTN\",\"LRAPD1\",152,0)\n Q\n\"RTN\",\"LRAPD1\",153,0)\nPEM ;Special Studies, EM\n\"RTN\",\"LRAPD1\",154,0)\n K DR\n\"RTN\",\"LRAPD1\",155,0)\n S DR=\"N LRREL D RELEASE^LRAPUTL(.LRREL,LRDFN,LRSS,LRI) \"\n\"RTN\",\"LRAPD1\",156,0)\n S DR=DR_\"I LRREL(1) D VMSG^LRAPD1 S Y=0;.03;10\"\n\"RTN\",\"LRAPD1\",157,0)\n S DR(2,63.212)=5,LR(7)=1\n\"RTN\",\"LRAPD1\",158,0)\n Q\n\"RTN\",\"LRAPD1\",159,0)\nVMSG ;Verified message\n\"RTN\",\"LRAPD1\",160,0)\n N LRMSG\n\"RTN\",\"LRAPD1\",161,0)\n S LRMSG=$C(7)_\"Report verified.  Cannot edit with this option.\"\n\"RTN\",\"LRAPD1\",162,0)\n D EN^DDIOL(LRMSG,\"\",\"!!\")\n\"RTN\",\"LRAPD1\",163,0)\n Q\n\"RTN\",\"LRSPRPTA\")\n0^3^B18457484\n\"RTN\",\"LRSPRPTA\",1,0)\nLRSPRPTA ;DALOI/STAFF - CY/EM/SP PATIENT RPT (cont'd) ;03/21/13  15:29\n\"RTN\",\"LRSPRPTA\",2,0)\n ;;5.2;LAB SERVICE;**350,427**;Sep 27, 1994;Build 6\n\"RTN\",\"LRSPRPTA\",3,0)\n ;\n\"RTN\",\"LRSPRPTA\",4,0)\n ; Continuation of LRSPRPT.\n\"RTN\",\"LRSPRPTA\",5,0)\n ;\n\"RTN\",\"LRSPRPTA\",6,0)\nEN ; from LRSPRPT\n\"RTN\",\"LRSPRPTA\",7,0)\n ; Suppress SNOMED codes except on Preliminary\n\"RTN\",\"LRSPRPTA\",8,0)\n S LR(\"SPSM\")=$S($G(LRPRE):0,1:1)\n\"RTN\",\"LRSPRPTA\",9,0)\n S LR(.21)=+$G(^LRO(69.2,+$G(LRAA),.2))\n\"RTN\",\"LRSPRPTA\",10,0)\n K LRO Q:'$D(^LR(LRDFN,LRSS,LRI,0))\n\"RTN\",\"LRSPRPTA\",11,0)\n S LRQ=0\n\"RTN\",\"LRSPRPTA\",12,0)\n D ^LRUA\n\"RTN\",\"LRSPRPTA\",13,0)\n ;\n\"RTN\",\"LRSPRPTA\",14,0)\n D GETPCP^LRAPUTL(.LRPRAC,LRDFN,LRSS,LRI)\n\"RTN\",\"LRSPRPTA\",15,0)\n ;\n\"RTN\",\"LRSPRPTA\",16,0)\n D ^LRAPF Q:LR(\"Q\")\n\"RTN\",\"LRSPRPTA\",17,0)\n S LR(\"F\")=1 W !,\"Submitted by: \",LRW(5),?44,\"Date obtained: \",LRTK\n\"RTN\",\"LRSPRPTA\",18,0)\n D:LRA W^LRSPRPT\n\"RTN\",\"LRSPRPTA\",19,0)\n W !,\"Specimen (Received \",LRTK(1),\"):\" S LRV=.1 D A^LRSPRPT Q:LR(\"Q\")\n\"RTN\",\"LRSPRPTA\",20,0)\n I $P($G(^LR(LRDFN,LRSS,LRI,1.2,0)),\"^\",4) D\n\"RTN\",\"LRSPRPTA\",21,0)\n . W !?14,\"*+* SUPPLEMENTARY REPORT HAS BEEN ADDED *+*\"\n\"RTN\",\"LRSPRPTA\",22,0)\n . W !?19,\"*+* REFER TO BOTTOM OF REPORT *+*\",!\n\"RTN\",\"LRSPRPTA\",23,0)\n ;\n\"RTN\",\"LRSPRPTA\",24,0)\n ; DALOI/LMT - LR,427 - Removed comments from report to restore pre-LR,350 behavior\n\"RTN\",\"LRSPRPTA\",25,0)\n ;I $O(^LR(LRDFN,LRSS,LRI,99,0)) W !,\"Comment:\"\n\"RTN\",\"LRSPRPTA\",26,0)\n ;S LRB=0\n\"RTN\",\"LRSPRPTA\",27,0)\n ;F  S LRB=$O(^LR(LRDFN,LRSS,LRI,99,LRB)) Q:'LRB!(LR(\"Q\"))  D\n\"RTN\",\"LRSPRPTA\",28,0)\n ;. W !,^LR(LRDFN,LRSS,LRI,99,LRB,0)\n\"RTN\",\"LRSPRPTA\",29,0)\n ;. I $G(LRSF515),$Y>(IOSL-11) D F^LRAPF,^LRAPF\n\"RTN\",\"LRSPRPTA\",30,0)\n ;\n\"RTN\",\"LRSPRPTA\",31,0)\n D:LRA W^LRSPRPT W !,\"Brief Clinical History:\" S LRV=.2 D F^LRSPRPT Q:LR(\"Q\")\n\"RTN\",\"LRSPRPTA\",32,0)\n D:LRA W^LRSPRPT W !,\"Preoperative Diagnosis:\" S LRV=.3 D F^LRSPRPT Q:LR(\"Q\")\n\"RTN\",\"LRSPRPTA\",33,0)\n D:LRA W^LRSPRPT W !,\"Operative Findings:\" S LRV=.4 D F^LRSPRPT Q:LR(\"Q\")\n\"RTN\",\"LRSPRPTA\",34,0)\n D:LRA W^LRSPRPT W !,\"Postoperative Diagnosis:\" S LRV=.5 D F^LRSPRPT Q:LR(\"Q\")\n\"RTN\",\"LRSPRPTA\",35,0)\n ;\n\"RTN\",\"LRSPRPTA\",36,0)\n ;\n\"RTN\",\"LRSPRPTA\",37,0)\n ; Retrieve surgeon/attending\n\"RTN\",\"LRSPRPTA\",38,0)\n D ATTEND^LRAPBR1(.LRMD)\n\"RTN\",\"LRSPRPTA\",39,0)\n I LRMD'=\"\" W !?27,\"Surgeon/physician: \",LRMD\n\"RTN\",\"LRSPRPTA\",40,0)\n I LRMD(\"SR-SURGEON\")'=\"\" w !,?28,LRMD(\"SR-SURGEON\")\n\"RTN\",\"LRSPRPTA\",41,0)\n I LRMD(\"SR-ATTEND\")'=\"\" W !,?26,LRMD(\"SR-ATTEND\")\n\"RTN\",\"LRSPRPTA\",42,0)\n ;I +$G(LRMD(\"ERR\"))=601 W !,?26,$P(LRMD(\"ERR\"),\"^\",2)\n\"RTN\",\"LRSPRPTA\",43,0)\n ;\n\"RTN\",\"LRSPRPTA\",44,0)\n I LRA W !,LR(\"%1\")\n\"RTN\",\"LRSPRPTA\",45,0)\n ;\n\"RTN\",\"LRSPRPTA\",46,0)\n I $Y>(IOSL-14) D  Q:LR(\"Q\")\n\"RTN\",\"LRSPRPTA\",47,0)\n . D F^LRAPF,^LRAPF\n\"RTN\",\"LRSPRPTA\",48,0)\n E  D P^LRAPF\n\"RTN\",\"LRSPRPTA\",49,0)\n ;I $Y>(IOSL-8) D F^LRAPF,^LRAPF Q:LR(\"Q\")\n\"RTN\",\"LRSPRPTA\",50,0)\n D:LRA W^LRSPRPT\n\"RTN\",\"LRSPRPTA\",51,0)\n W:LRRC=\"\" !?20,\"+*+* REPORT INCOMPLETE *+*+\",!\n\"RTN\",\"LRSPRPTA\",52,0)\n I $Y>(IOSL-11) D F^LRAPF,^LRAPF Q:LR(\"Q\")\n\"RTN\",\"LRSPRPTA\",53,0)\n ;\n\"RTN\",\"LRSPRPTA\",54,0)\n W !\n\"RTN\",\"LRSPRPTA\",55,0)\n        ;EHS/OSS ;UJO*3.0*28 ; JUN 17,2025 ;Update[This Change Was Made To Align \"Pathology Resident\" To The Left]\n\"RTN\",\"LRSPRPTA\",56,0)\n        ; Scope  : Aligned \"RESIDENT PATHOLOGIST\" Label To The Left On LRAPFICH,LRAPQAM,LRAPQAMR,LRAPQAR,LRAP PRINT SINGLE Options\n\"RTN\",\"LRSPRPTA\",57,0)\n        ;I LRRMD'=\"\" W ?31,$S(LRSS=\"SP\":\"Pathology Resident: \",LRSS=\"CY\":\"Screened by: \",LRSS=\"EM\":\"Prepared by: \",1:\" \"),LRRMD\n\"RTN\",\"LRSPRPTA\",58,0)\n IF LRRMD'=\"\" WRITE $SELECT(LRSS=\"SP\":\"Pathology Resident: \",LRSS=\"CY\":\"Screened by: \",LRSS=\"EM\":\"Prepared by: \",1:\" \"),LRRMD\n\"RTN\",\"LRSPRPTA\",59,0)\n I $O(^LR(LRDFN,LRSS,LRI,1.3,0)) D  Q:LR(\"Q\")\n\"RTN\",\"LRSPRPTA\",60,0)\n . I $Y>(IOSL-11) D F^LRAPF,^LRAPF Q:LR(\"Q\")\n\"RTN\",\"LRSPRPTA\",61,0)\n . W !,LR(69.2,.13)\n\"RTN\",\"LRSPRPTA\",62,0)\n . I $P($G(^LR(LRDFN,LRSS,LRI,6,0)),U,4) S LR(0)=6 D ^LRSPRPTM\n\"RTN\",\"LRSPRPTA\",63,0)\n ;\n\"RTN\",\"LRSPRPTA\",64,0)\n S LRV=1.3 D F^LRSPRPT Q:LR(\"Q\")\n\"RTN\",\"LRSPRPTA\",65,0)\n I $O(^LR(LRDFN,LRSS,LRI,1,0)) D  Q:LR(\"Q\")\n\"RTN\",\"LRSPRPTA\",66,0)\n . I $Y>(IOSL-11) D F^LRAPF,^LRAPF Q:LR(\"Q\")\n\"RTN\",\"LRSPRPTA\",67,0)\n . W !,LR(69.2,.03)\n\"RTN\",\"LRSPRPTA\",68,0)\n . I $P($G(^LR(LRDFN,LRSS,LRI,7,0)),U,4) S LR(0)=7 D ^LRSPRPTM\n\"RTN\",\"LRSPRPTA\",69,0)\n ;\n\"RTN\",\"LRSPRPTA\",70,0)\n S LRV=1 D F^LRSPRPT Q:LR(\"Q\")\n\"RTN\",\"LRSPRPTA\",71,0)\n I $O(^LR(LRDFN,LRSS,LRI,1.1,0)) D  Q:LR(\"Q\")\n\"RTN\",\"LRSPRPTA\",72,0)\n . I $Y>(IOSL-11) D F^LRAPF,^LRAPF Q:LR(\"Q\")\n\"RTN\",\"LRSPRPTA\",73,0)\n . W !,LR(69.2,.04)\n\"RTN\",\"LRSPRPTA\",74,0)\n . I $P($G(^LR(LRDFN,LRSS,LRI,4,0)),\"^\",4) S LR(0)=4 D ^LRSPRPTM\n\"RTN\",\"LRSPRPTA\",75,0)\n ;\n\"RTN\",\"LRSPRPTA\",76,0)\n S LRV=1.1 D F^LRSPRPT Q:LR(\"Q\")\n\"RTN\",\"LRSPRPTA\",77,0)\n I $O(^LR(LRDFN,LRSS,LRI,1.4,0)) D  Q:LR(\"Q\")\n\"RTN\",\"LRSPRPTA\",78,0)\n . I $Y>(IOSL-11) D F^LRAPF,^LRAPF Q:LR(\"Q\")\n\"RTN\",\"LRSPRPTA\",79,0)\n . W !,LR(69.2,.14)\n\"RTN\",\"LRSPRPTA\",80,0)\n . I $P($G(^LR(LRDFN,LRSS,LRI,5,0)),U,4) S LR(0)=5 D ^LRSPRPTM\n\"RTN\",\"LRSPRPTA\",81,0)\n ;\n\"RTN\",\"LRSPRPTA\",82,0)\n S LRV=1.4 D F^LRSPRPT Q:LR(\"Q\")\n\"RTN\",\"LRSPRPTA\",83,0)\n ;\n\"RTN\",\"LRSPRPTA\",84,0)\n ; Supplementary Report\n\"RTN\",\"LRSPRPTA\",85,0)\n I $O(^LR(LRDFN,LRSS,LRI,1.2,0)) D:LR(.21) F^LRAPF,^LRAPF Q:LR(\"Q\")  D\n\"RTN\",\"LRSPRPTA\",86,0)\n . D:$Y>(IOSL-13) F^LRAPF,^LRAPF Q:LR(\"Q\")\n\"RTN\",\"LRSPRPTA\",87,0)\n . W !,\"Supplementary Report:\"\n\"RTN\",\"LRSPRPTA\",88,0)\n . S LRV=0 F  S LRV=$O(^LR(LRDFN,LRSS,LRI,1.2,LRV)) Q:'LRV!(LR(\"Q\"))  D\n\"RTN\",\"LRSPRPTA\",89,0)\n . . S X=^LR(LRDFN,LRSS,LRI,1.2,LRV,0) D S^LRSPRPT\n\"RTN\",\"LRSPRPTA\",90,0)\n D ^LRSPRPT1 Q:LR(\"Q\")\n\"RTN\",\"LRSPRPTA\",91,0)\n ;\n\"RTN\",\"LRSPRPTA\",92,0)\n ; Print performing laboratory if designated\n\"RTN\",\"LRSPRPTA\",93,0)\n D PPL\n\"RTN\",\"LRSPRPTA\",94,0)\n ;\n\"RTN\",\"LRSPRPTA\",95,0)\n ; Don't set the final flag and print the footer if prelim\n\"RTN\",\"LRSPRPTA\",96,0)\n Q:+$G(LRPRE)\n\"RTN\",\"LRSPRPTA\",97,0)\n S LRO=1 D F^LRAPF\n\"RTN\",\"LRSPRPTA\",98,0)\n Q\n\"RTN\",\"LRSPRPTA\",99,0)\n ;\n\"RTN\",\"LRSPRPTA\",100,0)\n ;\n\"RTN\",\"LRSPRPTA\",101,0)\nPPL ; Print any performing laboratories\n\"RTN\",\"LRSPRPTA\",102,0)\n ;\n\"RTN\",\"LRSPRPTA\",103,0)\n N LRPL,LRJ,LRX\n\"RTN\",\"LRSPRPTA\",104,0)\n ;\n\"RTN\",\"LRSPRPTA\",105,0)\n D RETLST^LRRPL(.LRPL,LRDFN,LRSS,LRI,0)\n\"RTN\",\"LRSPRPTA\",106,0)\n I $G(LRPL)<1 Q\n\"RTN\",\"LRSPRPTA\",107,0)\n ;\n\"RTN\",\"LRSPRPTA\",108,0)\n ; Start new page if space on existing page too small to display a significant portion of labs\n\"RTN\",\"LRSPRPTA\",109,0)\n I $Y>(IOSL-15) D F^LRAPF,^LRAPF Q:LR(\"Q\")\n\"RTN\",\"LRSPRPTA\",110,0)\n ;\n\"RTN\",\"LRSPRPTA\",111,0)\n W !!,$$REPEAT^XLFSTR(\"=\",IOM)\n\"RTN\",\"LRSPRPTA\",112,0)\n W !,\"Performing Laboratory:\",!\n\"RTN\",\"LRSPRPTA\",113,0)\n S LRJ=0\n\"RTN\",\"LRSPRPTA\",114,0)\n F  S LRJ=$O(LRPL(LRJ)) Q:'LRJ  D  Q:LR(\"Q\")\n\"RTN\",\"LRSPRPTA\",115,0)\n . I $Y>(IOSL-12) D F^LRAPF,^LRAPF Q:LR(\"Q\")  W !,\"Performing Laboratory (cont'd):\",!\n\"RTN\",\"LRSPRPTA\",116,0)\n . W !,LRPL(LRJ)\n\"RTN\",\"LRSPRPTA\",117,0)\n ;\n\"RTN\",\"LRSPRPTA\",118,0)\n Q\n\"VER\")\n8.0^22.2\n**END**\n**END**\n",
      "registeredAt": "2025-12-25T13:55:06.569Z",
      "status": "committed",
      "id": "8228021f86123ae5",
      "linkedChanges": [
        "f34a26f4b094fd67",
        "b53c652270a35500",
        "7a7e135fa5927649",
        "fabff78cba889783",
        "45950d2046354496",
        "5cd5aac2bedaf9ee",
        "b3272f3d838fb2d1",
        "7dcedb128bb15622",
        "e7994ca68cd38587",
        "297e77f40765ea3d",
        "e2b3999a78b0e5fa",
        "6278e5883c20062b",
        "99115556d2e9295d",
        "a9f58c1e01189598"
      ],
      "updatedAt": "2025-12-25T13:55:20.455Z",
      "error": "Git commit failed: Command failed: git push origin main --tags\nerror: src refspec main does not match any\nerror: failed to push some refs to 'gitlab.ehs.com.jo:Ahmad.AlKhalaileh/docker.git'\n",
      "committedAt": "2025-12-25T13:55:20.452Z",
      "commitResult": {
        "success": true,
        "patchId": "UJO*3.0*28",
        "committedAt": "2025-12-25T13:55:20.452Z",
        "commitOutput": "[master 0a752a7d] Applied patch UJO*3.0*28: Add New Prompt \"RESIDENT PATHOLOGIST\" For Surgical Pathology Accession Areas\n 1 file changed, 1 insertion(+), 1 deletion(-)\n",
        "pushOutput": ""
      }
    }
  ]
}